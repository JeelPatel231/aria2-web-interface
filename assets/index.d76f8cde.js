var or=Object.defineProperty;var ar=(t,e,s)=>e in t?or(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var F=(t,e,s)=>(ar(t,typeof e!="symbol"?e+"":e,s),s);const ir=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerpolicy&&(l.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?l.credentials="include":n.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=s(n);fetch(n.href,l)}};ir();function N(){}const Ks=t=>t;function Gs(t){return t()}function gs(){return Object.create(null)}function be(t){t.forEach(Gs)}function wt(t){return typeof t=="function"}function ie(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function cr(t){return Object.keys(t).length===0}function Js(t,...e){if(t==null)return N;const s=t.subscribe(...e);return s.unsubscribe?()=>s.unsubscribe():s}function J(t){let e;return Js(t,s=>e=s)(),e}function ge(t,e,s){t.$$.on_destroy.push(Js(e,s))}function pt(t,e,s){return t.set(s),e}const Ys=typeof window!="undefined";let Qs=Ys?()=>window.performance.now():()=>Date.now(),Jt=Ys?t=>requestAnimationFrame(t):N;const Ue=new Set;function Zs(t){Ue.forEach(e=>{e.c(t)||(Ue.delete(e),e.f())}),Ue.size!==0&&Jt(Zs)}function Xs(t){let e;return Ue.size===0&&Jt(Zs),{promise:new Promise(s=>{Ue.add(e={c:t,f:s})}),abort(){Ue.delete(e)}}}function a(t,e){t.appendChild(e)}function er(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function dr(t){const e=y("style");return ur(er(t),e),e.sheet}function ur(t,e){a(t.head||t,e)}function S(t,e,s){t.insertBefore(e,s||null)}function k(t){t.parentNode.removeChild(t)}function ze(t,e){for(let s=0;s<t.length;s+=1)t[s]&&t[s].d(e)}function y(t){return document.createElement(t)}function L(t){return document.createTextNode(t)}function g(){return L(" ")}function fr(){return L("")}function le(t,e,s,r){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)}function mt(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function v(t,e,s){s==null?t.removeAttribute(e):t.getAttribute(e)!==s&&t.setAttribute(e,s)}function pr(t){return Array.from(t.childNodes)}function O(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function yt(t,e){t.value=e==null?"":e}function bs(t,e,s,r){s===null?t.style.removeProperty(e):t.style.setProperty(e,s,r?"important":"")}function Y(t,e,s){t.classList[s?"add":"remove"](e)}function mr(t,e,{bubbles:s=!1,cancelable:r=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,s,r,e),n}const vt=new Map;let ht=0;function yr(t){let e=5381,s=t.length;for(;s--;)e=(e<<5)-e^t.charCodeAt(s);return e>>>0}function vr(t,e){const s={stylesheet:dr(e),rules:{}};return vt.set(t,s),s}function qt(t,e,s,r,n,l,o,u=0){const i=16.666/r;let d=`{
`;for(let w=0;w<=1;w+=i){const C=e+(s-e)*l(w);d+=w*100+`%{${o(C,1-C)}}
`}const m=d+`100% {${o(s,1-s)}}
}`,p=`__svelte_${yr(m)}_${u}`,c=er(t),{stylesheet:f,rules:h}=vt.get(c)||vr(c,t);h[p]||(h[p]=!0,f.insertRule(`@keyframes ${p} ${m}`,f.cssRules.length));const _=t.style.animation||"";return t.style.animation=`${_?`${_}, `:""}${p} ${r}ms linear ${n}ms 1 both`,ht+=1,p}function tr(t,e){const s=(t.style.animation||"").split(", "),r=s.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),n=s.length-r.length;n&&(t.style.animation=r.join(", "),ht-=n,ht||hr())}function hr(){Jt(()=>{ht||(vt.forEach(t=>{const{stylesheet:e}=t;let s=e.cssRules.length;for(;s--;)e.deleteRule(s);t.rules={}}),vt.clear())})}function gr(t,e,s,r){if(!e)return N;const n=t.getBoundingClientRect();if(e.left===n.left&&e.right===n.right&&e.top===n.top&&e.bottom===n.bottom)return N;const{delay:l=0,duration:o=300,easing:u=Ks,start:i=Qs()+l,end:d=i+o,tick:m=N,css:p}=s(t,{from:e,to:n},r);let c=!0,f=!1,h;function _(){p&&(h=qt(t,0,1,o,l,u,p)),l||(f=!0)}function w(){p&&tr(t,h),c=!1}return Xs(C=>{if(!f&&C>=i&&(f=!0),f&&C>=d&&(m(1,0),w()),!c)return!1;if(f){const W=C-i,P=0+1*u(W/o);m(P,1-P)}return!0}),_(),m(0,1),w}function br(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:s,height:r}=e,n=t.getBoundingClientRect();t.style.position="absolute",t.style.width=s,t.style.height=r,sr(t,n)}}function sr(t,e){const s=t.getBoundingClientRect();if(e.left!==s.left||e.top!==s.top){const r=getComputedStyle(t),n=r.transform==="none"?"":r.transform;t.style.transform=`${n} translate(${e.left-s.left}px, ${e.top-s.top}px)`}}let Ye;function Je(t){Ye=t}function _r(){if(!Ye)throw new Error("Function called outside component initialization");return Ye}function Yt(t){_r().$$.on_mount.push(t)}const Ge=[],de=[],dt=[],Ft=[],wr=Promise.resolve();let jt=!1;function kr(){jt||(jt=!0,wr.then(rr))}function Qe(t){dt.push(t)}function Ie(t){Ft.push(t)}const It=new Set;let ct=0;function rr(){const t=Ye;do{for(;ct<Ge.length;){const e=Ge[ct];ct++,Je(e),xr(e.$$)}for(Je(null),Ge.length=0,ct=0;de.length;)de.pop()();for(let e=0;e<dt.length;e+=1){const s=dt[e];It.has(s)||(It.add(s),s())}dt.length=0}while(Ge.length);for(;Ft.length;)Ft.pop()();jt=!1,It.clear(),Je(t)}function xr(t){if(t.fragment!==null){t.update(),be(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Qe)}}let Ve;function Sr(){return Ve||(Ve=Promise.resolve(),Ve.then(()=>{Ve=null})),Ve}function Nt(t,e,s){t.dispatchEvent(mr(`${e?"intro":"outro"}${s}`))}const ut=new Set;let ve;function Qt(){ve={r:0,c:[],p:ve}}function Zt(){ve.r||be(ve.c),ve=ve.p}function K(t,e){t&&t.i&&(ut.delete(t),t.i(e))}function Q(t,e,s,r){if(t&&t.o){if(ut.has(t))return;ut.add(t),ve.c.push(()=>{ut.delete(t),r&&(s&&t.d(1),r())}),t.o(e)}}const zr={duration:0};function _s(t,e,s,r){let n=e(t,s),l=r?0:1,o=null,u=null,i=null;function d(){i&&tr(t,i)}function m(c,f){const h=c.b-l;return f*=Math.abs(h),{a:l,b:c.b,d:h,duration:f,start:c.start,end:c.start+f,group:c.group}}function p(c){const{delay:f=0,duration:h=300,easing:_=Ks,tick:w=N,css:C}=n||zr,W={start:Qs()+f,b:c};c||(W.group=ve,ve.r+=1),o||u?u=W:(C&&(d(),i=qt(t,l,c,h,f,_,C)),c&&w(0,1),o=m(W,h),Qe(()=>Nt(t,c,"start")),Xs(P=>{if(u&&P>u.start&&(o=m(u,h),u=null,Nt(t,o.b,"start"),C&&(d(),i=qt(t,l,o.b,o.duration,0,_,n.css))),o){if(P>=o.end)w(l=o.b,1-l),Nt(t,o.b,"end"),u||(o.b?d():--o.group.r||be(o.group.c)),o=null;else if(P>=o.start){const q=P-o.start;l=o.a+o.d*_(q/o.duration),w(l,1-l)}}return!!(o||u)}))}return{run(c){wt(n)?Sr().then(()=>{n=n(),p(c)}):p(c)},end(){d(),o=u=null}}}function Cr(t,e){Q(t,1,1,()=>{e.delete(t.key)})}function Lr(t,e){t.f(),Cr(t,e)}function $r(t,e,s,r,n,l,o,u,i,d,m,p){let c=t.length,f=l.length,h=c;const _={};for(;h--;)_[t[h].key]=h;const w=[],C=new Map,W=new Map;for(h=f;h--;){const x=p(n,l,h),D=s(x);let T=o.get(D);T?r&&T.p(x,e):(T=d(D,x),T.c()),C.set(D,w[h]=T),D in _&&W.set(D,Math.abs(h-_[D]))}const P=new Set,q=new Set;function U(x){K(x,1),x.m(u,m),o.set(x.key,x),m=x.first,f--}for(;c&&f;){const x=w[f-1],D=t[c-1],T=x.key,M=D.key;x===D?(m=x.first,c--,f--):C.has(M)?!o.has(T)||P.has(T)?U(x):q.has(M)?c--:W.get(T)>W.get(M)?(q.add(T),U(x)):(P.add(M),c--):(i(D,o),c--)}for(;c--;){const x=t[c];C.has(x.key)||i(x,o)}for(;f;)U(w[f-1]);return w}function Ne(t,e,s){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=s,s(t.$$.ctx[r]))}function ae(t){t&&t.c()}function re(t,e,s,r){const{fragment:n,on_mount:l,on_destroy:o,after_update:u}=t.$$;n&&n.m(e,s),r||Qe(()=>{const i=l.map(Gs).filter(wt);o?o.push(...i):be(i),t.$$.on_mount=[]}),u.forEach(Qe)}function ne(t,e){const s=t.$$;s.fragment!==null&&(be(s.on_destroy),s.fragment&&s.fragment.d(e),s.on_destroy=s.fragment=null,s.ctx=[])}function Ar(t,e){t.$$.dirty[0]===-1&&(Ge.push(t),kr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ue(t,e,s,r,n,l,o,u=[-1]){const i=Ye;Je(t);const d=t.$$={fragment:null,ctx:null,props:l,update:N,not_equal:n,bound:gs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:gs(),dirty:u,skip_bound:!1,root:e.target||i.$$.root};o&&o(d.root);let m=!1;if(d.ctx=s?s(t,e.props||{},(p,c,...f)=>{const h=f.length?f[0]:c;return d.ctx&&n(d.ctx[p],d.ctx[p]=h)&&(!d.skip_bound&&d.bound[p]&&d.bound[p](h),m&&Ar(t,p)),c}):[],d.update(),m=!0,be(d.before_update),d.fragment=r?r(d.ctx):!1,e.target){if(e.hydrate){const p=pr(e.target);d.fragment&&d.fragment.l(p),p.forEach(k)}else d.fragment&&d.fragment.c();e.intro&&K(t.$$.fragment),re(t,e.target,e.anchor,e.customElement),rr()}Je(i)}class fe{$destroy(){ne(this,1),this.$destroy=N}$on(e,s){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(s),()=>{const n=r.indexOf(s);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!cr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const De=[];function ce(t,e=N){let s;const r=new Set;function n(u){if(ie(t,u)&&(t=u,s)){const i=!De.length;for(const d of r)d[1](),De.push(d,t);if(i){for(let d=0;d<De.length;d+=2)De[d][0](De[d+1]);De.length=0}}}function l(u){n(u(t))}function o(u,i=N){const d=[u,i];return r.add(d),r.size===1&&(s=e(n)||N),u(t),()=>{r.delete(d),r.size===0&&(s(),s=null)}}return{set:n,update:l,subscribe:o}}const Ke=t=>{let e=["aria2.onDownloadError"].includes(t.method);nr(),Se({head:t.method,desc:t.params,error:e})},Pr={"aria2.onDownloadStart":Ke,"aria2.onDownloadComplete":Ke,"aria2.onDownloadError":Ke,"aria2.onDownloadPause":Ke,"aria2.onDownloadStop":Ke},Me=t=>{if(t.error!=null){bt.set([]),Se({head:t.error.message,desc:[{gid:"code: "+t.error.code}],error:!0}),console.log("error",t);return}if(t.id.substring(0,4)==="tell"){bt.set(t.result);return}if(t.id.substring(0,3)==="add"){H.tellActive();return}nr()},Tr=t=>{Ze.set(t.result)},Rr={adduri:Me,addtorrent:Me,remove:Me,tellactive:Me,tellwaiting:Me,tellstopped:Me,tellstatus:Tr,pause:t=>{H.tellActive()},unpause:t=>{H.tellWaiting()}};class Er{constructor(e){F(this,"WS");F(this,"setupWebSocket",()=>{this.WS.onopen=e=>Se({head:"Websocket",desc:[{gid:"Connection Successful"}]}),this.WS.onmessage=e=>this.onMessageHandler(e),this.WS.onerror=e=>Se({head:"Websocket",desc:[{gid:"Connection Failed"}],error:!0})});F(this,"onMessageHandler",e=>{let s=JSON.parse(e.data);if(s.method!==void 0){Pr[s.method](s);return}Rr[s.id](s)});F(this,"wsreq",(e,s,r)=>{if(!this.WS){Se({head:"Websocket",desc:[{gid:"Connection not established!"}],error:!0});return}if(this.WS.readyState!==1){console.log("Connection lost or not yet open!"),Se({head:"Websocket",desc:[{gid:"Connection Lost or not open yet!"}],error:!0});return}var n={jsonrpc:"2.0",id:e,method:s,params:typeof r=="undefined"?[]:r};J(gt)&&n.params.unshift("token:"+J(gt)),this.WS.send(JSON.stringify(n))});F(this,"pauseDownload",e=>this.wsreq("pause","aria2.pause",[e]));F(this,"unpauseDownload",e=>this.wsreq("unpause","aria2.unpause",[e]));F(this,"removeDownload",e=>this.wsreq("remove","aria2.remove",[e]));F(this,"tellStatus",e=>this.wsreq("tellstatus","aria2.tellStatus",[e]));F(this,"tellActive",()=>{this.wsreq("tellactive","aria2.tellActive",[["gid","status","totalLength","completedLength","uploadLength","downloadSpeed","uploadSpeed","infoHash","numSeeders","pieceLength","numPieces","connections","errorCode","files","bittorrent"]])});F(this,"tellWaiting",()=>{this.wsreq("tellwaiting","aria2.tellWaiting",[0,100,["gid","status","totalLength","completedLength","uploadLength","downloadSpeed","uploadSpeed","infoHash","numSeeders","pieceLength","numPieces","connections","errorCode","files","bittorrent"]])});F(this,"tellStopped",()=>{this.wsreq("tellstopped","aria2.tellStopped",[0,100,["gid","status","totalLength","completedLength","uploadLength","downloadSpeed","uploadSpeed","infoHash","numSeeders","pieceLength","numPieces","connections","errorCode","files","bittorrent"]])});F(this,"startActivePolling",()=>{this.tellActive(),ws.set(setInterval(this.tellActive,J(ft)))});F(this,"startWaitingPolling",()=>{this.tellWaiting(),ks.set(setInterval(this.tellWaiting,J(ft)))});F(this,"startStoppedPolling",()=>{this.tellStopped(),xs.set(setInterval(this.tellStopped,J(ft)))});F(this,"clearActivePolling",()=>clearInterval(J(ws)));F(this,"clearWaitingPolling",()=>clearInterval(J(ks)));F(this,"clearStoppedPolling",()=>clearInterval(J(xs)));F(this,"clearAllPolling",()=>{this.clearActivePolling(),this.clearStoppedPolling(),this.clearWaitingPolling()});try{this.WS=new WebSocket(e),this.setupWebSocket()}catch(s){Se({head:"Websocket",desc:[{gid:s.message}],error:!0})}}}const Vt=ce("ws://localhost:6800/jsonrpc"),gt=ce(""),ft=ce(3e3),bt=ce([]),ws=ce(),ks=ce(),xs=ce(),We=ce([]),he=ce("play_arrow");he.subscribe(()=>{bt.set([])});const Kt=ce("");Kt.subscribe(t=>{document.getElementById("custom-css-link").setAttribute("href",t)});let H;Vt.subscribe(t=>{console.log("changed value of websocket URL"),H=new Er(t)});const Gt=ce(!0);Gt.subscribe(t=>{t&&(document.body.classList.add("dark-theme"),document.body.classList.remove("light-theme")),t||(document.body.classList.add("light-theme"),document.body.classList.remove("dark-theme"))});const Ze=ce(null);setInterval(()=>{let t=J(Ze);!t||t.status=="complete"||H.tellStatus(t.gid)},J(ft));const Se=t=>{We.set([...J(We),t]),setTimeout(()=>{J(We).shift(),We.set(J(We))},5e3)},nr=()=>{switch(J(he)){case"play_arrow":{H.tellActive();break}case"pause":{H.tellWaiting();break}case"stop":{H.tellStopped();break}}},_t=t=>{const e=s=>s.split("/").filter(r=>r).reverse()[0];return t.bittorrent&&t.bittorrent.info?t.bittorrent.info.name:t.files[0].path!==""?e(t.files[0].path):e(t.files[0].uris[0].uri.split("?",1)[0])},V=(t,e=2)=>{let s=parseInt(t);if(s===0)return"0 B";const r=1024,n=e<0?0:e,l=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(s)/Math.log(r));return parseFloat((s/Math.pow(r,o)).toFixed(n))+" "+l[o]};function Ss(t,e,s){const r=t.slice();return r[4]=e[s][0],r[5]=e[s][1],r}function zs(t){let e,s,r=t[4]+"",n,l,o,u=t[5]+"",i,d,m,p;function c(){return t[3](t[4])}return{c(){e=y("div"),s=y("button"),n=L(r),l=g(),o=y("div"),i=L(u),d=g(),v(s,"class","rail-item material-icons svelte-7o9g7f"),Y(s,"active",t[0]==t[4]),v(o,"class","icon-label body2 svelte-7o9g7f"),v(e,"class","rail-item-wrapper svelte-7o9g7f")},m(f,h){S(f,e,h),a(e,s),a(s,n),a(e,l),a(e,o),a(o,i),a(e,d),m||(p=le(e,"click",c),m=!0)},p(f,h){t=f,h&3&&Y(s,"active",t[0]==t[4])},d(f){f&&k(e),m=!1,p()}}}function Or(t){let e,s,r,n,l,o,u,i=Object.entries(t[1]),d=[];for(let m=0;m<i.length;m+=1)d[m]=zs(Ss(t,i,m));return{c(){e=y("div"),s=y("div"),r=y("button"),r.textContent="add",n=g(),l=y("div");for(let m=0;m<d.length;m+=1)d[m].c();v(r,"class","rail-item-big primary material-icons svelte-7o9g7f"),v(s,"class","big-button-container svelte-7o9g7f"),v(l,"class","nested-vertical-flex svelte-7o9g7f"),v(e,"class","siderail headline4 svelte-7o9g7f")},m(m,p){S(m,e,p),a(e,s),a(s,r),a(e,n),a(e,l);for(let c=0;c<d.length;c+=1)d[c].m(l,null);o||(u=le(r,"click",t[2]),o=!0)},p(m,[p]){if(p&3){i=Object.entries(m[1]);let c;for(c=0;c<i.length;c+=1){const f=Ss(m,i,c);d[c]?d[c].p(f,p):(d[c]=zs(f),d[c].c(),d[c].m(l,null))}for(;c<d.length;c+=1)d[c].d(1);d.length=i.length}},i:N,o:N,d(m){m&&k(e),ze(d,m),o=!1,u()}}}function Dr(t,e,s){let r;return ge(t,he,u=>s(0,r=u)),[r,{play_arrow:"Active",pause:"Paused",stop:"Stopped",settings:"Settings"},()=>{pt(he,r="add_download",r)},u=>{pt(he,r=u,r)}]}class Mr extends fe{constructor(e){super(),ue(this,e,Dr,Or,ie,{})}}function Cs(t){let e,s;return{c(){e=y("span"),s=L(t[2]),v(e,"class","material-icons label-icon svelte-8hwhrs")},m(r,n){S(r,e,n),a(e,s)},p(r,n){n&4&&O(s,r[2])},d(r){r&&k(e)}}}function Ls(t){let e,s,r,n;return{c(){e=y("button"),s=L(t[5]),v(e,"class","material-icons submitbtn svelte-8hwhrs"),Y(e,"merged",t[4])},m(l,o){S(l,e,o),a(e,s),r||(n=le(e,"click",function(){wt(t[1])&&t[1].apply(this,arguments)}),r=!0)},p(l,o){t=l,o&32&&O(s,t[5]),o&16&&Y(e,"merged",t[4])},d(l){l&&k(e),r=!1,n()}}}function Wr(t){let e,s,r,n,l,o,u,i,d,m,p=t[2]&&Cs(t),c=t[1]&&Ls(t);return{c(){e=y("div"),p&&p.c(),s=g(),r=y("span"),n=y("input"),l=g(),o=y("span"),u=L(t[3]),i=g(),c&&c.c(),v(n,"spellcheck","false"),v(n,"type","text"),n.required=!0,v(n,"class","body1 svelte-8hwhrs"),Y(n,"merged",t[4]),v(o,"class","input-label svelte-8hwhrs"),v(r,"class","input-label-wrapper svelte-8hwhrs"),v(e,"class","flex-parent body1 svelte-8hwhrs")},m(f,h){S(f,e,h),p&&p.m(e,null),a(e,s),a(e,r),a(r,n),t[7](n),yt(n,t[0]),a(r,l),a(r,o),a(o,u),a(e,i),c&&c.m(e,null),d||(m=le(n,"input",t[8]),d=!0)},p(f,[h]){f[2]?p?p.p(f,h):(p=Cs(f),p.c(),p.m(e,s)):p&&(p.d(1),p=null),h&1&&n.value!==f[0]&&yt(n,f[0]),h&16&&Y(n,"merged",f[4]),h&8&&O(u,f[3]),f[1]?c?c.p(f,h):(c=Ls(f),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:N,o:N,d(f){f&&k(e),p&&p.d(),t[7](null),c&&c.d(),d=!1,m()}}}function Ir(t,e,s){let{value:r=""}=e,{func:n=null}=e,{icon:l=""}=e,{label:o=""}=e,{merged:u=!1}=e,{btnicon:i="done"}=e,d;Yt(()=>{s(6,d.onkeyup=c=>{c.key==="Enter"&&n&&n()},d)});function m(c){de[c?"unshift":"push"](()=>{d=c,s(6,d)})}function p(){r=this.value,s(0,r)}return t.$$set=c=>{"value"in c&&s(0,r=c.value),"func"in c&&s(1,n=c.func),"icon"in c&&s(2,l=c.icon),"label"in c&&s(3,o=c.label),"merged"in c&&s(4,u=c.merged),"btnicon"in c&&s(5,i=c.btnicon)},[r,n,l,o,u,i,d,m,p]}class Ut extends fe{constructor(e){super(),ue(this,e,Ir,Wr,ie,{value:0,func:1,icon:2,label:3,merged:4,btnicon:5})}}function Nr(t){let e,s,r,n,l,o,u,i,d,m,p,c,f;return{c(){e=y("label"),s=y("span"),r=L(t[1]),n=g(),l=y("div"),o=L(t[2]),u=g(),i=y("span"),d=y("input"),m=g(),p=y("div"),v(s,"class","material-icons label-icon svelte-1676xwx"),v(l,"class","caption body1 svelte-1676xwx"),v(d,"type","checkbox"),v(d,"class","svelte-1676xwx"),v(p,"class","toggle svelte-1676xwx"),v(i,"class","checkbox-wrapper svelte-1676xwx"),v(e,"class","m3-checkbox svelte-1676xwx")},m(h,_){S(h,e,_),a(e,s),a(s,r),a(e,n),a(e,l),a(l,o),a(e,u),a(e,i),a(i,d),d.checked=t[0],a(i,m),a(i,p),c||(f=le(d,"change",t[3]),c=!0)},p(h,[_]){_&2&&O(r,h[1]),_&4&&O(o,h[2]),_&1&&(d.checked=h[0])},i:N,o:N,d(h){h&&k(e),c=!1,f()}}}function Ur(t,e,s){let{checked:r=!1}=e,{icon:n=""}=e,{label:l=""}=e;function o(){r=this.checked,s(0,r)}return t.$$set=u=>{"checked"in u&&s(0,r=u.checked),"icon"in u&&s(1,n=u.icon),"label"in u&&s(2,l=u.label)},[r,n,l,o]}class Hr extends fe{constructor(e){super(),ue(this,e,Ur,Nr,ie,{checked:0,icon:1,label:2})}}function Br(t){let e,s,r,n,l,o,u,i,d,m,p,c,f,h,_,w,C,W,P;function q(b){t[5](b)}let U={icon:"public",label:"JsonRPC URL",func:t[4]};t[0]!==void 0&&(U.value=t[0]),o=new Ut({props:U}),de.push(()=>Ne(o,"value",q));function x(b){t[6](b)}let D={icon:"password",label:"JsonRPC Secret"};t[2]!==void 0&&(D.value=t[2]),d=new Ut({props:D}),de.push(()=>Ne(d,"value",x));function T(b){t[7](b)}let M={icon:"dark_mode",label:"Dark Theme"};t[3]!==void 0&&(M.checked=t[3]),h=new Hr({props:M}),de.push(()=>Ne(h,"checked",T));function $(b){t[9](b)}let I={icon:"palette",label:"CSS Theme",func:t[8]};return t[1]!==void 0&&(I.value=t[1]),C=new Ut({props:I}),de.push(()=>Ne(C,"value",$)),{c(){e=y("div"),s=y("div"),s.textContent="SETTINGS",r=g(),n=y("div"),n.textContent="TOKENS",l=g(),ae(o.$$.fragment),i=g(),ae(d.$$.fragment),p=g(),c=y("div"),c.textContent="DISPLAY",f=g(),ae(h.$$.fragment),w=g(),ae(C.$$.fragment),v(s,"class","padded-h padded-v display3"),v(n,"class","padded-h subhead1 svelte-1az1y56"),v(c,"class","padded-h subhead1 svelte-1az1y56"),v(e,"class","settings-container svelte-1az1y56")},m(b,A){S(b,e,A),a(e,s),a(e,r),a(e,n),a(e,l),re(o,e,null),a(e,i),re(d,e,null),a(e,p),a(e,c),a(e,f),re(h,e,null),a(e,w),re(C,e,null),P=!0},p(b,[A]){const oe={};A&1&&(oe.func=b[4]),!u&&A&1&&(u=!0,oe.value=b[0],Ie(()=>u=!1)),o.$set(oe);const me={};!m&&A&4&&(m=!0,me.value=b[2],Ie(()=>m=!1)),d.$set(me);const _e={};!_&&A&8&&(_=!0,_e.checked=b[3],Ie(()=>_=!1)),h.$set(_e);const ye={};A&2&&(ye.func=b[8]),!W&&A&2&&(W=!0,ye.value=b[1],Ie(()=>W=!1)),C.$set(ye)},i(b){P||(K(o.$$.fragment,b),K(d.$$.fragment,b),K(h.$$.fragment,b),K(C.$$.fragment,b),P=!0)},o(b){Q(o.$$.fragment,b),Q(d.$$.fragment,b),Q(h.$$.fragment,b),Q(C.$$.fragment,b),P=!1},d(b){b&&k(e),ne(o),ne(d),ne(h),ne(C)}}}function qr(t,e,s){let r,n;ge(t,gt,f=>s(2,r=f)),ge(t,Gt,f=>s(3,n=f));let l=J(Vt),o=J(Kt);const u=()=>{Vt.set(l)};function i(f){l=f,s(0,l)}function d(f){r=f,gt.set(r)}function m(f){n=f,Gt.set(n)}const p=()=>{Kt.set(o)};function c(f){o=f,s(1,o)}return[l,o,r,n,u,i,d,m,p,c]}class Fr extends fe{constructor(e){super(),ue(this,e,qr,Br,ie,{})}}function $s(t,e,s){const r=t.slice();return r[4]=e[s],r}function As(t,e,s){const r=t.slice();return r[7]=e[s],r}function Ps(t,e,s){const r=t.slice();return r[10]=e[s],r}function Ht(t){const e=t.slice(),s=e[0];return e[3]=s,e}function Ts(t){let e,s,r,n,l,o=_t(t[3])+"",u,i,d,m,p,c=t[3].gid+"",f,h,_,w,C,W=t[3].connections+"",P,q,U,x,D,T=t[3].dir+"",M,$,I,b,A,oe=V(t[3].downloadSpeed)+"",me,_e,ye,se,j,Xe,we=t[3].infoHash+"",Ce,R,Z,pe,He,ke=t[3].numPieces+"",G,Be,Le,kt,Xt,et=t[3].numSeeders+"",xt,es,$e,St,ts,tt=V(t[3].pieceLength)+"",zt,ss,Ae,Ct,rs,st=t[3].seeder+"",Lt,ns,Pe,$t,ls,rt=t[3].status+"",At,os,Te,Pt,as,nt=V(t[3].totalLength)+"",Tt,is,Re,Rt,cs,lt=V(t[3].uploadLength)+"",Et,ds,xe,Ot,us,ot=V(t[3].uploadSpeed)+"",Dt,fs,ps,at,ms,qe,ys,Mt,it,vs,Fe,Wt,hs,Ee=t[3].files,X=[];for(let z=0;z<Ee.length;z+=1)X[z]=Rs(Ps(t,Ee,z));let ee=t[3].bittorrent&&Es(t),Oe=t[1](t[3].bitfield,parseInt(t[3].numPieces)).split(""),te=[];for(let z=0;z<Oe.length;z+=1)te[z]=Ds($s(t,Oe,z));return{c(){e=y("div"),s=y("button"),s.textContent="close",r=g(),n=y("div"),l=y("b"),u=L(o),i=g(),d=y("div"),m=y("b"),m.textContent="GID :",p=g(),f=L(c),h=g(),_=y("div"),w=y("b"),w.textContent="Connections:",C=g(),P=L(W),q=g(),U=y("div"),x=y("b"),x.textContent="Dir:",D=g(),M=L(T),$=g(),I=y("div"),b=y("b"),b.textContent="Download speed :",A=g(),me=L(oe),_e=L("/s"),ye=g(),se=y("div"),j=y("b"),j.textContent="Info Hash:",Xe=g(),Ce=L(we),R=g(),Z=y("div"),pe=y("b"),pe.textContent="Number of Pieces:",He=g(),G=L(ke),Be=g(),Le=y("div"),kt=y("b"),kt.textContent="Number of seeders:",Xt=g(),xt=L(et),es=g(),$e=y("div"),St=y("b"),St.textContent="Piece Length:",ts=g(),zt=L(tt),ss=g(),Ae=y("div"),Ct=y("b"),Ct.textContent="Seeder:",rs=g(),Lt=L(st),ns=g(),Pe=y("div"),$t=y("b"),$t.textContent="Status:",ls=g(),At=L(rt),os=g(),Te=y("div"),Pt=y("b"),Pt.textContent="Total Length:",as=g(),Tt=L(nt),is=g(),Re=y("div"),Rt=y("b"),Rt.textContent="Upload Length:",cs=g(),Et=L(lt),ds=g(),xe=y("div"),Ot=y("b"),Ot.textContent="Upload Speed:",us=g(),Dt=L(ot),fs=L("/s"),ps=g(),at=y("div"),at.innerHTML="<b>Files :</b>",ms=g(),qe=y("div");for(let z=0;z<X.length;z+=1)X[z].c();ys=g(),ee&&ee.c(),Mt=g(),it=y("div"),it.innerHTML="<b>Pieces Bitmap</b>",vs=g(),Fe=y("div");for(let z=0;z<te.length;z+=1)te[z].c();v(s,"class","material-icons btn svelte-xyvv9o"),v(n,"class","headline1 svelte-xyvv9o"),v(d,"class","headline4 svelte-xyvv9o"),v(_,"class","body1 svelte-xyvv9o"),v(U,"class","body1 svelte-xyvv9o"),v(I,"class","body1 svelte-xyvv9o"),v(se,"class","body1 svelte-xyvv9o"),v(Z,"class","body1 svelte-xyvv9o"),v(Le,"class","body1 svelte-xyvv9o"),v($e,"class","body1 svelte-xyvv9o"),v(Ae,"class","body1 svelte-xyvv9o"),v(Pe,"class","body1 svelte-xyvv9o"),v(Te,"class","body1 svelte-xyvv9o"),v(Re,"class","body1 svelte-xyvv9o"),v(xe,"class","body1 svelte-xyvv9o"),v(at,"class","body1 svelte-xyvv9o"),v(qe,"class","body2 padded-h svelte-xyvv9o"),v(it,"class","body1 svelte-xyvv9o"),v(Fe,"class","pieces-container svelte-xyvv9o"),v(e,"class","details svelte-xyvv9o")},m(z,B){S(z,e,B),a(e,s),a(e,r),a(e,n),a(n,l),a(l,u),a(e,i),a(e,d),a(d,m),a(d,p),a(d,f),a(e,h),a(e,_),a(_,w),a(_,C),a(_,P),a(e,q),a(e,U),a(U,x),a(U,D),a(U,M),a(e,$),a(e,I),a(I,b),a(I,A),a(I,me),a(I,_e),a(e,ye),a(e,se),a(se,j),a(se,Xe),a(se,Ce),a(e,R),a(e,Z),a(Z,pe),a(Z,He),a(Z,G),a(e,Be),a(e,Le),a(Le,kt),a(Le,Xt),a(Le,xt),a(e,es),a(e,$e),a($e,St),a($e,ts),a($e,zt),a(e,ss),a(e,Ae),a(Ae,Ct),a(Ae,rs),a(Ae,Lt),a(e,ns),a(e,Pe),a(Pe,$t),a(Pe,ls),a(Pe,At),a(e,os),a(e,Te),a(Te,Pt),a(Te,as),a(Te,Tt),a(e,is),a(e,Re),a(Re,Rt),a(Re,cs),a(Re,Et),a(e,ds),a(e,xe),a(xe,Ot),a(xe,us),a(xe,Dt),a(xe,fs),a(e,ps),a(e,at),a(e,ms),a(e,qe);for(let E=0;E<X.length;E+=1)X[E].m(qe,null);a(e,ys),ee&&ee.m(e,null),a(e,Mt),a(e,it),a(e,vs),a(e,Fe);for(let E=0;E<te.length;E+=1)te[E].m(Fe,null);Wt||(hs=le(s,"click",t[2]),Wt=!0)},p(z,B){if(B&1&&o!==(o=_t(z[3])+"")&&O(u,o),B&1&&c!==(c=z[3].gid+"")&&O(f,c),B&1&&W!==(W=z[3].connections+"")&&O(P,W),B&1&&T!==(T=z[3].dir+"")&&O(M,T),B&1&&oe!==(oe=V(z[3].downloadSpeed)+"")&&O(me,oe),B&1&&we!==(we=z[3].infoHash+"")&&O(Ce,we),B&1&&ke!==(ke=z[3].numPieces+"")&&O(G,ke),B&1&&et!==(et=z[3].numSeeders+"")&&O(xt,et),B&1&&tt!==(tt=V(z[3].pieceLength)+"")&&O(zt,tt),B&1&&st!==(st=z[3].seeder+"")&&O(Lt,st),B&1&&rt!==(rt=z[3].status+"")&&O(At,rt),B&1&&nt!==(nt=V(z[3].totalLength)+"")&&O(Tt,nt),B&1&&lt!==(lt=V(z[3].uploadLength)+"")&&O(Et,lt),B&1&&ot!==(ot=V(z[3].uploadSpeed)+"")&&O(Dt,ot),B&1){Ee=z[3].files;let E;for(E=0;E<Ee.length;E+=1){const je=Ps(z,Ee,E);X[E]?X[E].p(je,B):(X[E]=Rs(je),X[E].c(),X[E].m(qe,null))}for(;E<X.length;E+=1)X[E].d(1);X.length=Ee.length}if(z[3].bittorrent?ee?ee.p(z,B):(ee=Es(z),ee.c(),ee.m(e,Mt)):ee&&(ee.d(1),ee=null),B&3){Oe=z[1](z[3].bitfield,parseInt(z[3].numPieces)).split("");let E;for(E=0;E<Oe.length;E+=1){const je=$s(z,Oe,E);te[E]?te[E].p(je,B):(te[E]=Ds(je),te[E].c(),te[E].m(Fe,null))}for(;E<te.length;E+=1)te[E].d(1);te.length=Oe.length}},d(z){z&&k(e),ze(X,z),ee&&ee.d(),ze(te,z),Wt=!1,hs()}}}function Rs(t){let e,s=t[10].path+"",r;return{c(){e=y("div"),r=L(s)},m(n,l){S(n,e,l),a(e,r)},p(n,l){l&1&&s!==(s=n[10].path+"")&&O(r,s)},d(n){n&&k(e)}}}function Es(t){let e,s,r,n=t[3].bittorrent.announceList,l=[];for(let o=0;o<n.length;o+=1)l[o]=Os(As(t,n,o));return{c(){e=y("div"),e.innerHTML="<b>Announce List :</b>",s=g(),r=y("div");for(let o=0;o<l.length;o+=1)l[o].c();v(e,"class","body1 svelte-xyvv9o"),v(r,"class","body2 padded-h svelte-xyvv9o")},m(o,u){S(o,e,u),S(o,s,u),S(o,r,u);for(let i=0;i<l.length;i+=1)l[i].m(r,null)},p(o,u){if(u&1){n=o[3].bittorrent.announceList;let i;for(i=0;i<n.length;i+=1){const d=As(o,n,i);l[i]?l[i].p(d,u):(l[i]=Os(d),l[i].c(),l[i].m(r,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(o){o&&k(e),o&&k(s),o&&k(r),ze(l,o)}}}function Os(t){let e,s=t[7]+"",r;return{c(){e=y("div"),r=L(s)},m(n,l){S(n,e,l),a(e,r)},p(n,l){l&1&&s!==(s=n[7]+"")&&O(r,s)},d(n){n&&k(e)}}}function Ds(t){let e;return{c(){e=y("span"),v(e,"class","piece svelte-xyvv9o"),Y(e,"filled",t[4]=="1")},m(s,r){S(s,e,r)},p(s,r){r&3&&Y(e,"filled",s[4]=="1")},d(s){s&&k(e)}}}function jr(t){let e,s=t[0]&&Ts(Ht(t));return{c(){s&&s.c(),e=fr()},m(r,n){s&&s.m(r,n),S(r,e,n)},p(r,[n]){r[0]?s?s.p(Ht(r),n):(s=Ts(Ht(r)),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:N,o:N,d(r){s&&s.d(r),r&&k(e)}}}function Vr(t,e,s){let r;ge(t,Ze,o=>s(0,r=o));const n=(o,u)=>o.split("").map(i=>parseInt(i,16).toString(2).padStart(4,"0")).join("").slice(0,u);return r&&console.log(r),[r,n,()=>{pt(Ze,r=null,r)}]}class Kr extends fe{constructor(e){super(),ue(this,e,Vr,jr,ie,{})}}function Ms(t){let e,s,r,n=V(t[0].uploadSpeed)+"",l,o,u,i,d,m,p=V(t[0].downloadSpeed)+"",c,f,h,_,w,C,W,P=t[0].numSeeders+"",q,U,x,D,T,M,$=t[0].connections+"",I;return{c(){e=y("span"),e.textContent="north",s=g(),r=y("span"),l=L(n),o=L("/s"),u=g(),i=y("span"),i.textContent="south",d=g(),m=y("span"),c=L(p),f=L("/s"),h=g(),_=y("span"),_.textContent="north",w=g(),C=y("span"),W=L("seeders : "),q=L(P),U=g(),x=y("span"),x.textContent="south",D=g(),T=y("span"),M=L("peers : "),I=L($),v(e,"class","material-icons svelte-1c1b98v"),v(r,"class","svelte-1c1b98v"),v(i,"class","material-icons svelte-1c1b98v"),v(m,"class","svelte-1c1b98v"),v(_,"class","material-icons svelte-1c1b98v"),v(C,"class","svelte-1c1b98v"),v(x,"class","material-icons svelte-1c1b98v"),v(T,"class","svelte-1c1b98v")},m(b,A){S(b,e,A),S(b,s,A),S(b,r,A),a(r,l),a(r,o),S(b,u,A),S(b,i,A),S(b,d,A),S(b,m,A),a(m,c),a(m,f),S(b,h,A),S(b,_,A),S(b,w,A),S(b,C,A),a(C,W),a(C,q),S(b,U,A),S(b,x,A),S(b,D,A),S(b,T,A),a(T,M),a(T,I)},p(b,A){A&1&&n!==(n=V(b[0].uploadSpeed)+"")&&O(l,n),A&1&&p!==(p=V(b[0].downloadSpeed)+"")&&O(c,p),A&1&&P!==(P=b[0].numSeeders+"")&&O(q,P),A&1&&$!==($=b[0].connections+"")&&O(I,$)},d(b){b&&k(e),b&&k(s),b&&k(r),b&&k(u),b&&k(i),b&&k(d),b&&k(m),b&&k(h),b&&k(_),b&&k(w),b&&k(C),b&&k(U),b&&k(x),b&&k(D),b&&k(T)}}}function Gr(t){let e;return{c(){e=y("span"),e.textContent="Error",v(e,"class","overline svelte-1c1b98v")},m(s,r){S(s,e,r)},p:N,d(s){s&&k(e)}}}function Jr(t){let e;return{c(){e=y("span"),e.textContent="Stopped",v(e,"class","overline svelte-1c1b98v")},m(s,r){S(s,e,r)},p:N,d(s){s&&k(e)}}}function Yr(t){let e;return{c(){e=y("span"),e.textContent="completed",v(e,"class","overline svelte-1c1b98v")},m(s,r){S(s,e,r)},p:N,d(s){s&&k(e)}}}function Qr(t){let e,s,r,n,l;return{c(){e=y("span"),e.innerHTML='<span class="material-icons svelte-1c1b98v">play_arrow</span> Resume',s=g(),r=y("span"),r.innerHTML='<span class="material-icons svelte-1c1b98v">close</span>Remove',v(e,"class","work-btns svelte-1c1b98v"),v(r,"class","work-btns svelte-1c1b98v")},m(o,u){S(o,e,u),S(o,s,u),S(o,r,u),n||(l=[le(e,"click",mt(t[3])),le(r,"click",mt(t[4]))],n=!0)},p:N,d(o){o&&k(e),o&&k(s),o&&k(r),n=!1,be(l)}}}function Zr(t){let e,s,r,n,l;return{c(){e=y("span"),e.innerHTML='<span class="material-icons svelte-1c1b98v">pause</span> Pause',s=g(),r=y("span"),r.innerHTML='<span class="material-icons svelte-1c1b98v">stop</span> Stop',v(e,"class","work-btns svelte-1c1b98v"),v(r,"class","work-btns svelte-1c1b98v")},m(o,u){S(o,e,u),S(o,s,u),S(o,r,u),n||(l=[le(e,"click",mt(t[1])),le(r,"click",mt(t[2]))],n=!0)},p:N,d(o){o&&k(e),o&&k(s),o&&k(r),n=!1,be(l)}}}function Xr(t){let e,s,r=_t(t[0])+"",n,l,o,u,i,d=V(t[0].completedLength)+"",m,p,c=V(t[0].totalLength)+"",f,h,_,w,C,W,P,q,U,x=t[0].status=="active"&&Ms(t);function D($,I){if($[0].status=="active")return Zr;if($[0].status=="paused")return Qr;if($[0].status=="complete")return Yr;if($[0].status=="removed")return Jr;if($[0].status=="error")return Gr}let T=D(t),M=T&&T(t);return{c(){e=y("div"),s=y("div"),n=L(r),l=g(),o=y("span"),o.textContent="download_for_offline",u=g(),i=y("span"),m=L(d),p=L(" / "),f=L(c),h=g(),_=y("div"),w=y("div"),C=g(),x&&x.c(),W=g(),P=y("div"),M&&M.c(),v(s,"class","title headline3 span-entire-row svelte-1c1b98v"),v(o,"class","material-icons size-padding svelte-1c1b98v"),v(i,"class","size size-padding svelte-1c1b98v"),v(w,"class","progress-bar svelte-1c1b98v"),bs(w,"width",parseFloat(t[0].completedLength)/parseFloat(t[0].totalLength)*100+"%"),v(_,"class","download-bar span-entire-row svelte-1c1b98v"),Y(_,"errorbar",t[0].status=="error"),v(P,"class","work-btn-container span-entire-row svelte-1c1b98v"),v(e,"class","download-card body1 svelte-1c1b98v"),Y(e,"error",t[0].status=="error")},m($,I){S($,e,I),a(e,s),a(s,n),a(e,l),a(e,o),a(e,u),a(e,i),a(i,m),a(i,p),a(i,f),a(e,h),a(e,_),a(_,w),a(e,C),x&&x.m(e,null),a(e,W),a(e,P),M&&M.m(P,null),q||(U=le(e,"click",t[5]),q=!0)},p($,[I]){I&1&&r!==(r=_t($[0])+"")&&O(n,r),I&1&&d!==(d=V($[0].completedLength)+"")&&O(m,d),I&1&&c!==(c=V($[0].totalLength)+"")&&O(f,c),I&1&&bs(w,"width",parseFloat($[0].completedLength)/parseFloat($[0].totalLength)*100+"%"),I&1&&Y(_,"errorbar",$[0].status=="error"),$[0].status=="active"?x?x.p($,I):(x=Ms($),x.c(),x.m(e,W)):x&&(x.d(1),x=null),T===(T=D($))&&M?M.p($,I):(M&&M.d(1),M=T&&T($),M&&(M.c(),M.m(P,null))),I&1&&Y(e,"error",$[0].status=="error")},i:N,o:N,d($){$&&k(e),x&&x.d(),M&&M.d(),q=!1,U()}}}function en(t,e,s){let{data:r}=e;const n=()=>{H.pauseDownload(r.gid)},l=()=>{H.removeDownload(r.gid)},o=()=>{H.unpauseDownload(r.gid)},u=()=>{H.removeDownload(r.gid)},i=()=>{H.tellStatus(r.gid)};return t.$$set=d=>{"data"in d&&s(0,r=d.data)},[r,n,l,o,u,i]}class tn extends fe{constructor(e){super(),ue(this,e,en,Xr,ie,{data:0})}}function Ws(t,e,s){const r=t.slice();return r[2]=e[s],r}function Is(t){let e,s;return e=new tn({props:{data:t[2]}}),{c(){ae(e.$$.fragment)},m(r,n){re(e,r,n),s=!0},p(r,n){const l={};n&2&&(l.data=r[2]),e.$set(l)},i(r){s||(K(e.$$.fragment,r),s=!0)},o(r){Q(e.$$.fragment,r),s=!1},d(r){ne(e,r)}}}function sn(t){let e,s,r,n,l,o,u=t[1],i=[];for(let m=0;m<u.length;m+=1)i[m]=Is(Ws(t,u,m));const d=m=>Q(i[m],1,1,()=>{i[m]=null});return l=new Kr({}),{c(){e=y("div"),s=y("div");for(let m=0;m<i.length;m+=1)i[m].c();r=g(),n=y("div"),ae(l.$$.fragment),v(s,"class","download-cards svelte-c9zeha"),v(n,"class","download-info svelte-c9zeha"),v(e,"class","torrent-card-container svelte-c9zeha"),Y(e,"pane-visible",t[0])},m(m,p){S(m,e,p),a(e,s);for(let c=0;c<i.length;c+=1)i[c].m(s,null);a(e,r),a(e,n),re(l,n,null),o=!0},p(m,[p]){if(p&2){u=m[1];let c;for(c=0;c<u.length;c+=1){const f=Ws(m,u,c);i[c]?(i[c].p(f,p),K(i[c],1)):(i[c]=Is(f),i[c].c(),K(i[c],1),i[c].m(s,null))}for(Qt(),c=u.length;c<i.length;c+=1)d(c);Zt()}p&1&&Y(e,"pane-visible",m[0])},i(m){if(!o){for(let p=0;p<u.length;p+=1)K(i[p]);K(l.$$.fragment,m),o=!0}},o(m){i=i.filter(Boolean);for(let p=0;p<i.length;p+=1)Q(i[p]);Q(l.$$.fragment,m),o=!1},d(m){m&&k(e),ze(i,m),ne(l)}}}function rn(t,e,s){let r;ge(t,bt,l=>s(1,r=l));let n=!1;return Ze.subscribe(l=>{s(0,n=!!l)}),[n,r]}class Bt extends fe{constructor(e){super(),ue(this,e,rn,sn,ie,{})}}function nn(t){let e,s,r,n,l,o,u;return{c(){e=y("div"),s=y("span"),r=L(t[1]),n=g(),l=y("textarea"),v(s,"class","material-icons svelte-1w7r4or"),v(l,"rows",t[3]),v(l,"class","body1 svelte-1w7r4or"),v(l,"spellcheck","false"),v(l,"placeholder",t[2]),v(e,"class","m3-textarea svelte-1w7r4or")},m(i,d){S(i,e,d),a(e,s),a(s,r),a(e,n),a(e,l),t[6](l),yt(l,t[0]),o||(u=le(l,"input",t[7]),o=!0)},p(i,[d]){d&2&&O(r,i[1]),d&8&&v(l,"rows",i[3]),d&4&&v(l,"placeholder",i[2]),d&1&&yt(l,i[0])},i:N,o:N,d(i){i&&k(e),t[6](null),o=!1,u()}}}function ln(t,e,s){let{value:r=""}=e,{icon:n=""}=e,{placeholder:l=""}=e,{expandable:o=!1}=e,{rows:u=15}=e,i;const d=()=>{i.setAttribute("style","height:"+i.scrollHeight+"px;overflow-y:hidden;"),i.addEventListener("input",()=>{s(4,i.style.height="auto",i),s(4,i.style.height=i.scrollHeight+"px",i)},!1)};Yt(()=>{o&&d()});function m(c){de[c?"unshift":"push"](()=>{i=c,s(4,i)})}function p(){r=this.value,s(0,r)}return t.$$set=c=>{"value"in c&&s(0,r=c.value),"icon"in c&&s(1,n=c.icon),"placeholder"in c&&s(2,l=c.placeholder),"expandable"in c&&s(5,o=c.expandable),"rows"in c&&s(3,u=c.rows)},[r,n,l,u,i,o,m,p]}class Ns extends fe{constructor(e){super(),ue(this,e,ln,nn,ie,{value:0,icon:1,placeholder:2,expandable:5,rows:3})}}function Us(t,e,s){const r=t.slice();return r[10]=e[s],r}function Hs(t){let e,s=t[10].name+"",r;return{c(){e=y("div"),r=L(s),v(e,"class","body1 torrent-file-list svelte-129nhvf")},m(n,l){S(n,e,l),a(e,r)},p(n,l){l&8&&s!==(s=n[10].name+"")&&O(r,s)},d(n){n&&k(e)}}}function on(t){var Ce;let e,s,r,n,l,o,u,i,d,m,p,c,f,h,_,w=t[3]?t[3].length+" selected":"",C,W,P,q,U,x,D,T,M,$,I,b,A,oe,me;function _e(R){t[5](R)}let ye={icon:"public",placeholder:"Magnet URI or Direct Link"};t[0]!==void 0&&(ye.value=t[0]),o=new Ns({props:ye}),de.push(()=>Ne(o,"value",_e));let se=(Ce=t[3])!=null?Ce:[],j=[];for(let R=0;R<se.length;R+=1)j[R]=Hs(Us(t,se,R));function Xe(R){t[7](R)}let we={icon:"checklist",rows:1,placeholder:"Header-Key: Header-Value",expandable:!0};return t[1]!==void 0&&(we.value=t[1]),D=new Ns({props:we}),de.push(()=>Ne(D,"value",Xe)),{c(){e=y("div"),s=y("div"),s.textContent="Add Download",r=g(),n=y("div"),n.textContent="LINKS",l=g(),ae(o.$$.fragment),i=g(),d=y("div"),d.textContent="*Multiple links can be added using newline",m=g(),p=y("label"),c=L(`Select torrents
        `),f=y("input"),h=g(),_=y("span"),C=L(w),W=g(),P=y("div");for(let R=0;R<j.length;R+=1)j[R].c();q=g(),U=y("div"),U.textContent="HEADERS",x=g(),ae(D.$$.fragment),M=g(),$=y("div"),$.textContent="*User-Agent can be changed by setting User-Agent header above",I=g(),b=y("button"),b.textContent="ADD",v(s,"class","headline1 padded-h padded-v"),v(n,"class","subhead1 padded-h padded-v svelte-129nhvf"),v(d,"class","caption padded-h padded-v"),v(f,"type","file"),v(f,"name","files[]"),v(f,"accept",".torrent"),f.multiple=!0,v(f,"class","svelte-129nhvf"),v(p,"class","custom-input body1 padded-h padded-v svelte-129nhvf"),v(_,"class","overline"),v(P,"class","padded-h"),v(U,"class","subhead1 padded-h padded-v svelte-129nhvf"),v($,"class","caption padded-h padded-v"),v(b,"class","add body1 padded-v padded-h svelte-129nhvf"),v(e,"class","add-download-wrapper svelte-129nhvf")},m(R,Z){S(R,e,Z),a(e,s),a(e,r),a(e,n),a(e,l),re(o,e,null),a(e,i),a(e,d),a(e,m),a(e,p),a(p,c),a(p,f),t[6](f),a(e,h),a(e,_),a(_,C),a(e,W),a(e,P);for(let pe=0;pe<j.length;pe+=1)j[pe].m(P,null);a(e,q),a(e,U),a(e,x),re(D,e,null),a(e,M),a(e,$),a(e,I),a(e,b),A=!0,oe||(me=le(b,"click",t[4]),oe=!0)},p(R,[Z]){var ke;const pe={};if(!u&&Z&1&&(u=!0,pe.value=R[0],Ie(()=>u=!1)),o.$set(pe),(!A||Z&8)&&w!==(w=R[3]?R[3].length+" selected":"")&&O(C,w),Z&8){se=(ke=R[3])!=null?ke:[];let G;for(G=0;G<se.length;G+=1){const Be=Us(R,se,G);j[G]?j[G].p(Be,Z):(j[G]=Hs(Be),j[G].c(),j[G].m(P,null))}for(;G<j.length;G+=1)j[G].d(1);j.length=se.length}const He={};!T&&Z&2&&(T=!0,He.value=R[1],Ie(()=>T=!1)),D.$set(He)},i(R){A||(K(o.$$.fragment,R),K(D.$$.fragment,R),A=!0)},o(R){Q(o.$$.fragment,R),Q(D.$$.fragment,R),A=!1},d(R){R&&k(e),ne(o),t[6](null),ze(j,R),ne(D),oe=!1,me()}}}function an(t){return new Promise((e,s)=>{var r=new FileReader;r.onload=()=>{console.log(r.result.split(",")[0]),e(r.result.split(",")[1])},r.onerror=s,r.readAsDataURL(t)})}function cn(t,e,s){let r;ge(t,he,f=>s(8,r=f));let n="",l="";const o=()=>{new Set(n.split(`
`).filter(f=>f)).forEach(f=>{H.wsreq("adduri","aria2.addUri",[[f],{header:l.split(`
`)}])}),u.files.length&&d(),pt(he,r="play_arrow",r)};let u,i;Yt(()=>{s(2,u.onchange=()=>{s(3,i=u.files)},u)});async function d(){let f=u.files;for(let h=0;h<f.length;h++){let _=await an(f[h]);H.wsreq("addtorrent","aria2.addTorrent",[_])}}function m(f){n=f,s(0,n)}function p(f){de[f?"unshift":"push"](()=>{u=f,s(2,u)})}function c(f){l=f,s(1,l)}return[n,l,u,i,o,m,p,c]}class dn extends fe{constructor(e){super(),ue(this,e,cn,on,ie,{})}}function lr(t){const e=t-1;return e*e*e+1}function Bs(t,{delay:e=0,duration:s=400,easing:r=lr,x:n=0,y:l=0,opacity:o=0}={}){const u=getComputedStyle(t),i=+u.opacity,d=u.transform==="none"?"":u.transform,m=i*(1-o);return{delay:e,duration:s,easing:r,css:(p,c)=>`
			transform: ${d} translate(${(1-p)*n}px, ${(1-p)*l}px);
			opacity: ${i-m*c}`}}function un(t,{from:e,to:s},r={}){const n=getComputedStyle(t),l=n.transform==="none"?"":n.transform,[o,u]=n.transformOrigin.split(" ").map(parseFloat),i=e.left+e.width*o/s.width-(s.left+o),d=e.top+e.height*u/s.height-(s.top+u),{delay:m=0,duration:p=f=>Math.sqrt(f)*120,easing:c=lr}=r;return{delay:m,duration:wt(p)?p(Math.sqrt(i*i+d*d)):p,easing:c,css:(f,h)=>{const _=h*i,w=h*d,C=f+h*e.width/s.width,W=f+h*e.height/s.height;return`transform: ${l} translate(${_}px, ${w}px) scale(${C}, ${W});`}}}function qs(t,e,s){const r=t.slice();return r[1]=e[s],r}function Fs(t,e,s){const r=t.slice();return r[4]=e[s],r}function js(t){let e,s=t[4].gid+"",r;return{c(){e=y("div"),r=L(s),v(e,"class","caption")},m(n,l){S(n,e,l),a(e,r)},p(n,l){l&1&&s!==(s=n[4].gid+"")&&O(r,s)},d(n){n&&k(e)}}}function Vs(t,e){let s,r,n=e[1].head+"",l,o,u,i,d,m=N,p,c=e[1].desc,f=[];for(let h=0;h<c.length;h+=1)f[h]=js(Fs(e,c,h));return{key:t,first:null,c(){s=y("div"),r=y("div"),l=L(n),o=g();for(let h=0;h<f.length;h+=1)f[h].c();u=g(),v(r,"class","body1"),v(s,"class","toast svelte-1dcag4d"),Y(s,"error",e[1].error),this.first=s},m(h,_){S(h,s,_),a(s,r),a(r,l),a(s,o);for(let w=0;w<f.length;w+=1)f[w].m(s,null);a(s,u),p=!0},p(h,_){if(e=h,(!p||_&1)&&n!==(n=e[1].head+"")&&O(l,n),_&1){c=e[1].desc;let w;for(w=0;w<c.length;w+=1){const C=Fs(e,c,w);f[w]?f[w].p(C,_):(f[w]=js(C),f[w].c(),f[w].m(s,u))}for(;w<f.length;w+=1)f[w].d(1);f.length=c.length}_&1&&Y(s,"error",e[1].error)},r(){d=s.getBoundingClientRect()},f(){br(s),m(),sr(s,d)},a(){m(),m=gr(s,d,un,{duration:200})},i(h){p||(h&&Qe(()=>{i||(i=_s(s,Bs,{x:200},!0)),i.run(1)}),p=!0)},o(h){h&&(i||(i=_s(s,Bs,{x:200},!1)),i.run(0)),p=!1},d(h){h&&k(s),ze(f,h),h&&i&&i.end()}}}function fn(t){let e,s=[],r=new Map,n,l=t[0];const o=u=>u[1].desc;for(let u=0;u<l.length;u+=1){let i=qs(t,l,u),d=o(i);r.set(d,s[u]=Vs(d,i))}return{c(){e=y("div");for(let u=0;u<s.length;u+=1)s[u].c();v(e,"class","toast-container svelte-1dcag4d")},m(u,i){S(u,e,i);for(let d=0;d<s.length;d+=1)s[d].m(e,null);n=!0},p(u,[i]){if(i&1){l=u[0],Qt();for(let d=0;d<s.length;d+=1)s[d].r();s=$r(s,i,o,1,u,l,r,e,Lr,Vs,null,qs);for(let d=0;d<s.length;d+=1)s[d].a();Zt()}},i(u){if(!n){for(let i=0;i<l.length;i+=1)K(s[i]);n=!0}},o(u){for(let i=0;i<s.length;i+=1)Q(s[i]);n=!1},d(u){u&&k(e);for(let i=0;i<s.length;i+=1)s[i].d()}}}function pn(t,e,s){let r;return ge(t,We,n=>s(0,r=n)),[r]}class mn extends fe{constructor(e){super(),ue(this,e,pn,fn,ie,{})}}function yn(t){let e,s,r,n,l,o,u,i;s=new Mr({});var d=t[1][t[0]];function m(p){return{}}return d&&(l=new d(m())),u=new mn({}),{c(){e=y("div"),ae(s.$$.fragment),r=g(),n=y("div"),l&&ae(l.$$.fragment),o=g(),ae(u.$$.fragment),v(n,"class","component-container svelte-11tevr1"),v(e,"class","main-page svelte-11tevr1")},m(p,c){S(p,e,c),re(s,e,null),a(e,r),a(e,n),l&&re(l,n,null),a(e,o),re(u,e,null),i=!0},p(p,[c]){if(d!==(d=p[1][p[0]])){if(l){Qt();const f=l;Q(f.$$.fragment,1,0,()=>{ne(f,1)}),Zt()}d?(l=new d(m()),ae(l.$$.fragment),K(l.$$.fragment,1),re(l,n,null)):l=null}},i(p){i||(K(s.$$.fragment,p),l&&K(l.$$.fragment,p),K(u.$$.fragment,p),i=!0)},o(p){Q(s.$$.fragment,p),l&&Q(l.$$.fragment,p),Q(u.$$.fragment,p),i=!1},d(p){p&&k(e),ne(s),l&&ne(l),ne(u)}}}function vn(t,e,s){let r;ge(t,he,o=>s(0,r=o));const n={add_download:dn,play_arrow:Bt,pause:Bt,stop:Bt,settings:Fr},l=()=>{switch(r){case"play_arrow":{H.clearAllPolling(),H.startActivePolling();break}case"pause":{H.clearAllPolling(),H.startWaitingPolling();break}case"stop":{H.clearAllPolling(),H.startStoppedPolling();break}default:{H.clearAllPolling();break}}};return t.$$.update=()=>{t.$$.dirty&1&&l()},[r,n]}class hn extends fe{constructor(e){super(),ue(this,e,vn,yn,ie,{})}}new hn({target:document.getElementById("app")});
