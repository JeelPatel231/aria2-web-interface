var Ge=Object.defineProperty;var Ze=(s,e,t)=>e in s?Ge(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var E=(s,e,t)=>(Ze(s,typeof e!="symbol"?e+"":e,t),t);const Qe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}};Qe();function P(){}function He(s){return s()}function Le(){return Object.create(null)}function se(s){s.forEach(He)}function Be(s){return typeof s=="function"}function V(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}function Xe(s){return Object.keys(s).length===0}function je(s,...e){if(s==null)return P;const t=s.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function G(s){let e;return je(s,t=>e=t)(),e}function we(s,e,t){s.$$.on_destroy.push(je(e,t))}function d(s,e){s.appendChild(e)}function x(s,e,t){s.insertBefore(e,t||null)}function _(s){s.parentNode.removeChild(s)}function qe(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function m(s){return document.createElement(s)}function C(s){return document.createTextNode(s)}function w(){return C(" ")}function q(s,e,t,r){return s.addEventListener(e,t,r),()=>s.removeEventListener(e,t,r)}function u(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function es(s){return Array.from(s.childNodes)}function I(s,e){e=""+e,s.wholeText!==e&&(s.data=e)}function me(s,e){s.value=e==null?"":e}function Ae(s,e,t,r){t===null?s.style.removeProperty(e):s.style.setProperty(e,t,r?"important":"")}function oe(s,e,t){s.classList[t?"add":"remove"](e)}function ss(s,e,{bubbles:t=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(s,t,r,e),o}let de;function le(s){de=s}function Ue(){if(!de)throw new Error("Function called outside component initialization");return de}function ts(s){Ue().$$.on_mount.push(s)}function Fe(){const s=Ue();return(e,t,{cancelable:r=!1}={})=>{const o=s.$$.callbacks[e];if(o){const a=ss(e,t,{cancelable:r});return o.slice().forEach(n=>{n.call(s,a)}),!a.defaultPrevented}return!0}}const ae=[],Q=[],ye=[],_e=[],rs=Promise.resolve();let xe=!1;function os(){xe||(xe=!0,rs.then(Ve))}function Se(s){ye.push(s)}function ie(s){_e.push(s)}const he=new Set;let pe=0;function Ve(){const s=de;do{for(;pe<ae.length;){const e=ae[pe];pe++,le(e),ns(e.$$)}for(le(null),ae.length=0,pe=0;Q.length;)Q.pop()();for(let e=0;e<ye.length;e+=1){const t=ye[e];he.has(t)||(he.add(t),t())}ye.length=0}while(ae.length);for(;_e.length;)_e.pop()();xe=!1,he.clear(),le(s)}function ns(s){if(s.fragment!==null){s.update(),se(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(Se)}}const ue=new Set;let ee;function Ke(){ee={r:0,c:[],p:ee}}function Je(){ee.r||se(ee.c),ee=ee.p}function N(s,e){s&&s.i&&(ue.delete(s),s.i(e))}function j(s,e,t,r){if(s&&s.o){if(ue.has(s))return;ue.add(s),ee.c.push(()=>{ue.delete(s),r&&(t&&s.d(1),r())}),s.o(e)}}function ce(s,e,t){const r=s.$$.props[e];r!==void 0&&(s.$$.bound[r]=t,t(s.$$.ctx[r]))}function K(s){s&&s.c()}function U(s,e,t,r){const{fragment:o,on_mount:a,on_destroy:n,after_update:c}=s.$$;o&&o.m(e,t),r||Se(()=>{const i=a.map(He).filter(Be);n?n.push(...i):se(i),s.$$.on_mount=[]}),c.forEach(Se)}function F(s,e){const t=s.$$;t.fragment!==null&&(se(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function as(s,e){s.$$.dirty[0]===-1&&(ae.push(s),os(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function J(s,e,t,r,o,a,n,c=[-1]){const i=de;le(s);const l=s.$$={fragment:null,ctx:null,props:a,update:P,not_equal:o,bound:Le(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(i?i.$$.context:[])),callbacks:Le(),dirty:c,skip_bound:!1,root:e.target||i.$$.root};n&&n(l.root);let p=!1;if(l.ctx=t?t(s,e.props||{},(f,y,...h)=>{const g=h.length?h[0]:y;return l.ctx&&o(l.ctx[f],l.ctx[f]=g)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](g),p&&as(s,f)),y}):[],l.update(),p=!0,se(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const f=es(e.target);l.fragment&&l.fragment.l(f),f.forEach(_)}else l.fragment&&l.fragment.c();e.intro&&N(s.$$.fragment),U(s,e.target,e.anchor,e.customElement),Ve()}le(i)}class Y{$destroy(){F(this,1),this.$destroy=P}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!Xe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const te=[];function X(s,e=P){let t;const r=new Set;function o(c){if(V(s,c)&&(s=c,t)){const i=!te.length;for(const l of r)l[1](),te.push(l,s);if(i){for(let l=0;l<te.length;l+=2)te[l][0](te[l+1]);te.length=0}}}function a(c){o(c(s))}function n(c,i=P){const l=[c,i];return r.add(l),r.size===1&&(t=e(o)||P),c(s),()=>{r.delete(l),r.size===0&&(t(),t=null)}}return{set:o,update:a,subscribe:n}}const ne=s=>{console.log(s)},ls={"aria2.onDownloadStart":ne,"aria2.onDownloadComplete":ne,"aria2.onDownloadError":ne,"aria2.onDownloadPause":ne,"aria2.onDownloadStop":ne},ve=s=>{re.set([]),console.log("error",s)},ge=s=>{console.log(s),M.tellActive()},is={adduri:ge,addtorrent:ge,tellactive:s=>{if(s.error!=null){ve(s);return}re.set(s.result)},tellwaiting:s=>{if(s.error!=null){ve(s);return}re.set(s.result)},tellstopped:s=>{if(s.error!=null){ve(s);return}re.set(s.result)},pause:s=>{M.tellActive()},unpause:s=>{M.tellWaiting()},remove:ge};class cs{constructor(e){E(this,"WS");E(this,"setupWebSocket",()=>{this.WS.onopen=e=>console.log(e),this.WS.onmessage=e=>this.onMessageHandler(e)});E(this,"onMessageHandler",e=>{let t=JSON.parse(e.data);if(t.method!==void 0){ls[t.method](t);return}is[t.id](t)});E(this,"wsreq",(e,t,r)=>{if(this.WS.readyState!==1){console.log("Connection lost or not yet open!");return}var o={jsonrpc:"2.0",id:e,method:t,params:typeof r=="undefined"?[]:r};G(fe)&&o.params.unshift("token:"+G(fe)),this.WS.send(JSON.stringify(o))});E(this,"pauseDownload",e=>{this.wsreq("pause","aria2.pause",[e]),this.tellActive()});E(this,"unpauseDownload",e=>{this.wsreq("unpause","aria2.unpause",[e]),this.tellWaiting()});E(this,"removeDownload",e=>{this.wsreq("remove","aria2.remove",[e])});E(this,"tellActive",()=>{this.wsreq("tellactive","aria2.tellActive",[["gid","status","totalLength","completedLength","uploadLength","downloadSpeed","uploadSpeed","infoHash","numSeeders","pieceLength","numPieces","connections","errorCode","files","bittorrent"]])});E(this,"tellWaiting",()=>{this.wsreq("tellwaiting","aria2.tellWaiting",[0,100,["gid","status","totalLength","completedLength","uploadLength","downloadSpeed","uploadSpeed","infoHash","numSeeders","pieceLength","numPieces","connections","errorCode","files","bittorrent"]])});E(this,"tellStopped",()=>{this.wsreq("tellstopped","aria2.tellStopped",[0,100,["gid","status","totalLength","completedLength","uploadLength","downloadSpeed","uploadSpeed","infoHash","numSeeders","pieceLength","numPieces","connections","errorCode","files","bittorrent"]])});E(this,"startActivePolling",()=>{this.tellActive(),Ce.set(setInterval(this.tellActive,G(be)))});E(this,"startWaitingPolling",()=>{this.tellWaiting(),Pe.set(setInterval(this.tellWaiting,G(be)))});E(this,"startStoppedPolling",()=>{this.tellStopped(),Oe.set(setInterval(this.tellStopped,G(be)))});E(this,"clearActivePolling",()=>clearInterval(G(Ce)));E(this,"clearWaitingPolling",()=>clearInterval(G(Pe)));E(this,"clearStoppedPolling",()=>clearInterval(G(Oe)));E(this,"clearAllPolling",()=>{this.clearActivePolling(),this.clearStoppedPolling(),this.clearWaitingPolling()});this.WS=new WebSocket(e),this.setupWebSocket()}}const Ye=X("ws://localhost:6800/jsonrpc"),fe=X(""),be=X(3e3),re=X([]),Ce=X(),Pe=X(),Oe=X();let M;Ye.subscribe(s=>{console.log("changed value of websocket URL"),M=new cs(s)});const ze=X(!0);ze.subscribe(s=>{s&&(document.body.classList.add("dark-theme"),document.body.classList.remove("light-theme")),s||(document.body.classList.add("light-theme"),document.body.classList.remove("dark-theme"))});function Te(s,e,t){const r=s.slice();return r[6]=e[t][0],r[7]=e[t][1],r}function Ee(s){let e,t,r=s[6]+"",o,a,n,c=s[7]+"",i,l,p,f;function y(){return s[4](s[6])}return{c(){e=m("div"),t=m("button"),o=C(r),a=w(),n=m("div"),i=C(c),l=w(),u(t,"class","rail-item material-icons svelte-7o9g7f"),oe(t,"active",s[0]==s[6]),u(n,"class","icon-label body2 svelte-7o9g7f"),u(e,"class","rail-item-wrapper svelte-7o9g7f")},m(h,g){x(h,e,g),d(e,t),d(t,o),d(e,a),d(e,n),d(n,i),d(e,l),p||(f=q(e,"click",y),p=!0)},p(h,g){s=h,g&3&&oe(t,"active",s[0]==s[6])},d(h){h&&_(e),p=!1,f()}}}function ds(s){let e,t,r,o,a,n,c,i=Object.entries(s[1]),l=[];for(let p=0;p<i.length;p+=1)l[p]=Ee(Te(s,i,p));return{c(){e=m("div"),t=m("div"),r=m("button"),r.textContent="add",o=w(),a=m("div");for(let p=0;p<l.length;p+=1)l[p].c();u(r,"class","rail-item-big primary material-icons svelte-7o9g7f"),u(t,"class","big-button-container svelte-7o9g7f"),u(a,"class","nested-vertical-flex svelte-7o9g7f"),u(e,"class","siderail headline4 svelte-7o9g7f")},m(p,f){x(p,e,f),d(e,t),d(t,r),d(e,o),d(e,a);for(let y=0;y<l.length;y+=1)l[y].m(a,null);n||(c=q(r,"click",s[3]),n=!0)},p(p,[f]){if(f&7){i=Object.entries(p[1]);let y;for(y=0;y<i.length;y+=1){const h=Te(p,i,y);l[y]?l[y].p(h,f):(l[y]=Ee(h),l[y].c(),l[y].m(a,null))}for(;y<l.length;y+=1)l[y].d(1);l.length=i.length}},i:P,o:P,d(p){p&&_(e),qe(l,p),n=!1,c()}}}function ps(s,e,t){const r=Fe(),o={play_arrow:"Active",pause:"Paused",stop:"Stopped",settings:"Settings"};let{activeTab:a="play_arrow"}=e;const n=l=>{re.set([]),r("tabClicked",l)},c=()=>n("add_download"),i=l=>n(l);return s.$$set=l=>{"activeTab"in l&&t(0,a=l.activeTab)},[a,o,n,c,i]}class ys extends Y{constructor(e){super(),J(this,e,ps,ds,V,{activeTab:0})}}function Re(s){let e,t;return{c(){e=m("span"),t=C(s[2]),u(e,"class","material-icons label-icon svelte-8hwhrs")},m(r,o){x(r,e,o),d(e,t)},p(r,o){o&4&&I(t,r[2])},d(r){r&&_(e)}}}function De(s){let e,t,r,o;return{c(){e=m("button"),t=C(s[5]),u(e,"class","material-icons submitbtn svelte-8hwhrs"),oe(e,"merged",s[4])},m(a,n){x(a,e,n),d(e,t),r||(o=q(e,"click",function(){Be(s[1])&&s[1].apply(this,arguments)}),r=!0)},p(a,n){s=a,n&32&&I(t,s[5]),n&16&&oe(e,"merged",s[4])},d(a){a&&_(e),r=!1,o()}}}function us(s){let e,t,r,o,a,n,c,i,l,p,f=s[2]&&Re(s),y=s[1]&&De(s);return{c(){e=m("div"),f&&f.c(),t=w(),r=m("span"),o=m("input"),a=w(),n=m("span"),c=C(s[3]),i=w(),y&&y.c(),u(o,"spellcheck","false"),u(o,"type","text"),o.required=!0,u(o,"class","body1 svelte-8hwhrs"),oe(o,"merged",s[4]),u(n,"class","input-label svelte-8hwhrs"),u(r,"class","input-label-wrapper svelte-8hwhrs"),u(e,"class","flex-parent body1 svelte-8hwhrs")},m(h,g){x(h,e,g),f&&f.m(e,null),d(e,t),d(e,r),d(r,o),me(o,s[0]),d(r,a),d(r,n),d(n,c),d(e,i),y&&y.m(e,null),l||(p=q(o,"input",s[6]),l=!0)},p(h,[g]){h[2]?f?f.p(h,g):(f=Re(h),f.c(),f.m(e,t)):f&&(f.d(1),f=null),g&1&&o.value!==h[0]&&me(o,h[0]),g&16&&oe(o,"merged",h[4]),g&8&&I(c,h[3]),h[1]?y?y.p(h,g):(y=De(h),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},i:P,o:P,d(h){h&&_(e),f&&f.d(),y&&y.d(),l=!1,p()}}}function ms(s,e,t){let{value:r=""}=e,{func:o=null}=e,{icon:a=""}=e,{label:n=""}=e,{merged:c=!1}=e,{btnicon:i="done"}=e;function l(){r=this.value,t(0,r)}return s.$$set=p=>{"value"in p&&t(0,r=p.value),"func"in p&&t(1,o=p.func),"icon"in p&&t(2,a=p.icon),"label"in p&&t(3,n=p.label),"merged"in p&&t(4,c=p.merged),"btnicon"in p&&t(5,i=p.btnicon)},[r,o,a,n,c,i,l]}class Me extends Y{constructor(e){super(),J(this,e,ms,us,V,{value:0,func:1,icon:2,label:3,merged:4,btnicon:5})}}function fs(s){let e,t,r,o,a,n,c,i,l,p,f,y,h;return{c(){e=m("label"),t=m("span"),r=C(s[1]),o=w(),a=m("div"),n=C(s[2]),c=w(),i=m("span"),l=m("input"),p=w(),f=m("div"),u(t,"class","material-icons label-icon svelte-1676xwx"),u(a,"class","caption body1 svelte-1676xwx"),u(l,"type","checkbox"),u(l,"class","svelte-1676xwx"),u(f,"class","toggle svelte-1676xwx"),u(i,"class","checkbox-wrapper svelte-1676xwx"),u(e,"class","m3-checkbox svelte-1676xwx")},m(g,L){x(g,e,L),d(e,t),d(t,r),d(e,o),d(e,a),d(a,n),d(e,c),d(e,i),d(i,l),l.checked=s[0],d(i,p),d(i,f),y||(h=q(l,"change",s[3]),y=!0)},p(g,[L]){L&2&&I(r,g[1]),L&4&&I(n,g[2]),L&1&&(l.checked=g[0])},i:P,o:P,d(g){g&&_(e),y=!1,h()}}}function hs(s,e,t){let{checked:r=!1}=e,{icon:o=""}=e,{label:a=""}=e;function n(){r=this.checked,t(0,r)}return s.$$set=c=>{"checked"in c&&t(0,r=c.checked),"icon"in c&&t(1,o=c.icon),"label"in c&&t(2,a=c.label)},[r,o,a,n]}class vs extends Y{constructor(e){super(),J(this,e,hs,fs,V,{checked:0,icon:1,label:2})}}function gs(s){let e,t,r,o,a,n,c,i,l,p,f,y,h,g,L,O;function $(v){s[4](v)}let W={icon:"public",label:"JsonRPC URL",func:s[3]};s[0]!==void 0&&(W.value=s[0]),n=new Me({props:W}),Q.push(()=>ce(n,"value",$));function R(v){s[5](v)}let S={icon:"password",label:"JsonRPC Secret"};s[1]!==void 0&&(S.value=s[1]),l=new Me({props:S}),Q.push(()=>ce(l,"value",R));function H(v){s[6](v)}let D={icon:"dark_mode",label:"Dark Theme"};return s[2]!==void 0&&(D.checked=s[2]),g=new vs({props:D}),Q.push(()=>ce(g,"checked",H)),{c(){e=m("div"),t=m("div"),t.textContent="SETTINGS",r=w(),o=m("div"),o.textContent="TOKENS",a=w(),K(n.$$.fragment),i=w(),K(l.$$.fragment),f=w(),y=m("div"),y.textContent="DISPLAY",h=w(),K(g.$$.fragment),u(t,"class","padded-h padded-v display3"),u(o,"class","padded-h subhead1 svelte-1az1y56"),u(y,"class","padded-h subhead1 svelte-1az1y56"),u(e,"class","settings-container svelte-1az1y56")},m(v,b){x(v,e,b),d(e,t),d(e,r),d(e,o),d(e,a),U(n,e,null),d(e,i),U(l,e,null),d(e,f),d(e,y),d(e,h),U(g,e,null),O=!0},p(v,[b]){const T={};b&1&&(T.func=v[3]),!c&&b&1&&(c=!0,T.value=v[0],ie(()=>c=!1)),n.$set(T);const z={};!p&&b&2&&(p=!0,z.value=v[1],ie(()=>p=!1)),l.$set(z);const B={};!L&&b&4&&(L=!0,B.checked=v[2],ie(()=>L=!1)),g.$set(B)},i(v){O||(N(n.$$.fragment,v),N(l.$$.fragment,v),N(g.$$.fragment,v),O=!0)},o(v){j(n.$$.fragment,v),j(l.$$.fragment,v),j(g.$$.fragment,v),O=!1},d(v){v&&_(e),F(n),F(l),F(g)}}}function bs(s,e,t){let r,o;we(s,fe,p=>t(1,r=p)),we(s,ze,p=>t(2,o=p));let a="ws://localhost:6800/jsonrpc";const n=()=>{Ye.set(a)};function c(p){a=p,t(0,a)}function i(p){r=p,fe.set(r)}function l(p){o=p,ze.set(o)}return[a,r,o,n,c,i,l]}class ks extends Y{constructor(e){super(),J(this,e,bs,gs,V,{})}}function We(s){let e,t,r,o=Z(s[0].uploadSpeed)+"",a,n,c,i,l,p,f=Z(s[0].downloadSpeed)+"",y,h,g,L,O,$,W,R=s[0].numSeeders+"",S,H,D,v,b,T,z=s[0].connections+"",B;return{c(){e=m("span"),e.textContent="north",t=w(),r=m("span"),a=C(o),n=C("/s"),c=w(),i=m("span"),i.textContent="south",l=w(),p=m("span"),y=C(f),h=C("/s"),g=w(),L=m("span"),L.textContent="north",O=w(),$=m("span"),W=C("seeders : "),S=C(R),H=w(),D=m("span"),D.textContent="south",v=w(),b=m("span"),T=C("peers : "),B=C(z),u(e,"class","material-icons svelte-csk4ou"),u(r,"class","svelte-csk4ou"),u(i,"class","material-icons svelte-csk4ou"),u(p,"class","svelte-csk4ou"),u(L,"class","material-icons svelte-csk4ou"),u($,"class","svelte-csk4ou"),u(D,"class","material-icons svelte-csk4ou"),u(b,"class","svelte-csk4ou")},m(k,A){x(k,e,A),x(k,t,A),x(k,r,A),d(r,a),d(r,n),x(k,c,A),x(k,i,A),x(k,l,A),x(k,p,A),d(p,y),d(p,h),x(k,g,A),x(k,L,A),x(k,O,A),x(k,$,A),d($,W),d($,S),x(k,H,A),x(k,D,A),x(k,v,A),x(k,b,A),d(b,T),d(b,B)},p(k,A){A&1&&o!==(o=Z(k[0].uploadSpeed)+"")&&I(a,o),A&1&&f!==(f=Z(k[0].downloadSpeed)+"")&&I(y,f),A&1&&R!==(R=k[0].numSeeders+"")&&I(S,R),A&1&&z!==(z=k[0].connections+"")&&I(B,z)},d(k){k&&_(e),k&&_(t),k&&_(r),k&&_(c),k&&_(i),k&&_(l),k&&_(p),k&&_(g),k&&_(L),k&&_(O),k&&_($),k&&_(H),k&&_(D),k&&_(v),k&&_(b)}}}function ws(s){let e;return{c(){e=m("span"),e.textContent="Stopped",u(e,"class","overline svelte-csk4ou")},m(t,r){x(t,e,r)},p:P,d(t){t&&_(e)}}}function _s(s){let e;return{c(){e=m("span"),e.textContent="completed",u(e,"class","overline svelte-csk4ou")},m(t,r){x(t,e,r)},p:P,d(t){t&&_(e)}}}function xs(s){let e,t,r,o,a;return{c(){e=m("span"),e.innerHTML='<span class="material-icons svelte-csk4ou">play_arrow</span> Resume',t=w(),r=m("span"),r.innerHTML='<span class="material-icons svelte-csk4ou">close</span>Remove',u(e,"class","work-btns svelte-csk4ou"),u(r,"class","work-btns svelte-csk4ou")},m(n,c){x(n,e,c),x(n,t,c),x(n,r,c),o||(a=[q(e,"click",s[3]),q(r,"click",s[4])],o=!0)},p:P,d(n){n&&_(e),n&&_(t),n&&_(r),o=!1,se(a)}}}function Ss(s){let e,t,r,o,a;return{c(){e=m("span"),e.innerHTML='<span class="material-icons svelte-csk4ou">pause</span> Pause',t=w(),r=m("span"),r.innerHTML='<span class="material-icons svelte-csk4ou">stop</span> Stop',u(e,"class","work-btns svelte-csk4ou"),u(r,"class","work-btns svelte-csk4ou")},m(n,c){x(n,e,c),x(n,t,c),x(n,r,c),o||(a=[q(e,"click",s[1]),q(r,"click",s[2])],o=!0)},p:P,d(n){n&&_(e),n&&_(t),n&&_(r),o=!1,se(a)}}}function zs(s){let e,t,r=(s[0].bittorrent&&s[0].bittorrent.info?s[0].bittorrent.info.name:s[0].files[0].path.split("/").reverse()[0])+"",o,a,n,c,i,l=Z(s[0].completedLength)+"",p,f,y=Z(s[0].totalLength)+"",h,g,L,O,$,W,R,S=s[0].status=="active"&&We(s);function H(b,T){if(b[0].status=="active")return Ss;if(b[0].status=="paused")return xs;if(b[0].status=="complete")return _s;if(b[0].status=="removed")return ws}let D=H(s),v=D&&D(s);return{c(){e=m("div"),t=m("div"),o=C(r),a=w(),n=m("span"),n.textContent="download_for_offline",c=w(),i=m("span"),p=C(l),f=C(" / "),h=C(y),g=w(),L=m("div"),O=m("div"),$=w(),S&&S.c(),W=w(),R=m("div"),v&&v.c(),u(t,"class","title headline3 span-entire-row svelte-csk4ou"),u(n,"class","material-icons size-padding svelte-csk4ou"),u(i,"class","size size-padding svelte-csk4ou"),u(O,"class","progress-bar svelte-csk4ou"),Ae(O,"width",parseFloat(s[0].completedLength)/parseFloat(s[0].totalLength)*100+"%"),u(L,"class","download-bar span-entire-row svelte-csk4ou"),u(R,"class","work-btn-container span-entire-row svelte-csk4ou"),u(e,"class","download-card body1 svelte-csk4ou")},m(b,T){x(b,e,T),d(e,t),d(t,o),d(e,a),d(e,n),d(e,c),d(e,i),d(i,p),d(i,f),d(i,h),d(e,g),d(e,L),d(L,O),d(e,$),S&&S.m(e,null),d(e,W),d(e,R),v&&v.m(R,null)},p(b,[T]){T&1&&r!==(r=(b[0].bittorrent&&b[0].bittorrent.info?b[0].bittorrent.info.name:b[0].files[0].path.split("/").reverse()[0])+"")&&I(o,r),T&1&&l!==(l=Z(b[0].completedLength)+"")&&I(p,l),T&1&&y!==(y=Z(b[0].totalLength)+"")&&I(h,y),T&1&&Ae(O,"width",parseFloat(b[0].completedLength)/parseFloat(b[0].totalLength)*100+"%"),b[0].status=="active"?S?S.p(b,T):(S=We(b),S.c(),S.m(e,W)):S&&(S.d(1),S=null),D===(D=H(b))&&v?v.p(b,T):(v&&v.d(1),v=D&&D(b),v&&(v.c(),v.m(R,null)))},i:P,o:P,d(b){b&&_(e),S&&S.d(),v&&v.d()}}}function Z(s,e=2){let t=parseInt(s);if(t===0)return"0 B";const r=1024,o=e<0?0:e,a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(t)/Math.log(r));return parseFloat((t/Math.pow(r,n)).toFixed(o))+" "+a[n]}function Ls(s,e,t){let{data:r}=e;const o=()=>{M.pauseDownload(r.gid)},a=()=>{M.removeDownload(r.gid)},n=()=>{M.unpauseDownload(r.gid)},c=()=>{M.removeDownload(r.gid)};return s.$$set=i=>{"data"in i&&t(0,r=i.data)},[r,o,a,n,c]}class As extends Y{constructor(e){super(),J(this,e,Ls,zs,V,{data:0})}}function $e(s,e,t){const r=s.slice();return r[1]=e[t],r}function Ie(s){let e,t;return e=new As({props:{data:s[1]}}),{c(){K(e.$$.fragment)},m(r,o){U(e,r,o),t=!0},p(r,o){const a={};o&1&&(a.data=r[1]),e.$set(a)},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){j(e.$$.fragment,r),t=!1},d(r){F(e,r)}}}function Cs(s){let e,t,r=s[0],o=[];for(let n=0;n<r.length;n+=1)o[n]=Ie($e(s,r,n));const a=n=>j(o[n],1,1,()=>{o[n]=null});return{c(){e=m("div");for(let n=0;n<o.length;n+=1)o[n].c();u(e,"class","torrent-card-container svelte-3dyp1h")},m(n,c){x(n,e,c);for(let i=0;i<o.length;i+=1)o[i].m(e,null);t=!0},p(n,[c]){if(c&1){r=n[0];let i;for(i=0;i<r.length;i+=1){const l=$e(n,r,i);o[i]?(o[i].p(l,c),N(o[i],1)):(o[i]=Ie(l),o[i].c(),N(o[i],1),o[i].m(e,null))}for(Ke(),i=r.length;i<o.length;i+=1)a(i);Je()}},i(n){if(!t){for(let c=0;c<r.length;c+=1)N(o[c]);t=!0}},o(n){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)j(o[c]);t=!1},d(n){n&&_(e),qe(o,n)}}}function Ps(s,e,t){let r;return we(s,re,o=>t(0,r=o)),[r]}class ke extends Y{constructor(e){super(),J(this,e,Ps,Cs,V,{})}}function Os(s){let e,t,r,o,a,n,c;return{c(){e=m("div"),t=m("span"),r=C(s[1]),o=w(),a=m("textarea"),u(t,"class","material-icons svelte-1w7r4or"),u(a,"rows",s[3]),u(a,"class","body1 svelte-1w7r4or"),u(a,"spellcheck","false"),u(a,"placeholder",s[2]),u(e,"class","m3-textarea svelte-1w7r4or")},m(i,l){x(i,e,l),d(e,t),d(t,r),d(e,o),d(e,a),s[6](a),me(a,s[0]),n||(c=q(a,"input",s[7]),n=!0)},p(i,[l]){l&2&&I(r,i[1]),l&8&&u(a,"rows",i[3]),l&4&&u(a,"placeholder",i[2]),l&1&&me(a,i[0])},i:P,o:P,d(i){i&&_(e),s[6](null),n=!1,c()}}}function Ts(s,e,t){let{value:r=""}=e,{icon:o=""}=e,{placeholder:a=""}=e,{expandable:n=!1}=e,{rows:c=15}=e,i;const l=()=>{i.setAttribute("style","height:"+i.scrollHeight+"px;overflow-y:hidden;"),i.addEventListener("input",()=>{t(4,i.style.height="auto",i),t(4,i.style.height=i.scrollHeight+"px",i)},!1)};ts(()=>{n&&l()});function p(y){Q[y?"unshift":"push"](()=>{i=y,t(4,i)})}function f(){r=this.value,t(0,r)}return s.$$set=y=>{"value"in y&&t(0,r=y.value),"icon"in y&&t(1,o=y.icon),"placeholder"in y&&t(2,a=y.placeholder),"expandable"in y&&t(5,n=y.expandable),"rows"in y&&t(3,c=y.rows)},[r,o,a,c,i,n,p,f]}class Ne extends Y{constructor(e){super(),J(this,e,Ts,Os,V,{value:0,icon:1,placeholder:2,expandable:5,rows:3})}}function Es(s){let e,t,r,o,a,n,c,i,l,p,f,y,h,g,L,O,$,W,R,S,H;function D(z){s[3](z)}let v={icon:"public",placeholder:"Magnet URI or Direct Link"};s[0]!==void 0&&(v.value=s[0]),n=new Ne({props:v}),Q.push(()=>ce(n,"value",D));function b(z){s[4](z)}let T={icon:"checklist",rows:1,placeholder:"'Header-Key' : 'Header-Value'",expandable:!0};return s[1]!==void 0&&(T.value=s[1]),h=new Ne({props:T}),Q.push(()=>ce(h,"value",b)),{c(){e=m("div"),t=m("div"),t.textContent="Add Download",r=w(),o=m("div"),o.textContent="LINKS",a=w(),K(n.$$.fragment),i=w(),l=m("div"),l.textContent="*Multiple links can be added using newline",p=w(),f=m("div"),f.textContent="HEADERS",y=w(),K(h.$$.fragment),L=w(),O=m("div"),O.textContent="*User-Agent can be changed by setting User-Agent header above",$=w(),W=m("button"),W.textContent="ADD",u(t,"class","headline1 padded-h padded-v"),u(o,"class","subhead1 padded-h padded-v svelte-17wdnm3"),u(l,"class","caption padded-h padded-v"),u(f,"class","subhead1 padded-h padded-v svelte-17wdnm3"),u(O,"class","caption padded-h padded-v"),u(W,"class","add padded-v padded-h svelte-17wdnm3"),u(e,"class","add-download-wrapper svelte-17wdnm3")},m(z,B){x(z,e,B),d(e,t),d(e,r),d(e,o),d(e,a),U(n,e,null),d(e,i),d(e,l),d(e,p),d(e,f),d(e,y),U(h,e,null),d(e,L),d(e,O),d(e,$),d(e,W),R=!0,S||(H=q(W,"click",s[2]),S=!0)},p(z,[B]){const k={};!c&&B&1&&(c=!0,k.value=z[0],ie(()=>c=!1)),n.$set(k);const A={};!g&&B&2&&(g=!0,A.value=z[1],ie(()=>g=!1)),h.$set(A)},i(z){R||(N(n.$$.fragment,z),N(h.$$.fragment,z),R=!0)},o(z){j(n.$$.fragment,z),j(h.$$.fragment,z),R=!1},d(z){z&&_(e),F(n),F(h),S=!1,H()}}}function Rs(s,e,t){const r=Fe();let o="",a="";const n=()=>{new Set(o.split(`
`).filter(l=>l)).forEach(l=>{M.wsreq("adduri","aria2.addUri",[[l],{header:a.split(`
`)}])}),r("downloadAdded","play_arrow")};function c(l){o=l,t(0,o)}function i(l){a=l,t(1,a)}return[o,a,n,c,i]}class Ds extends Y{constructor(e){super(),J(this,e,Rs,Es,V,{})}}function Ms(s){let e,t,r,o,a,n;t=new ys({props:{activeTab:s[0]}}),t.$on("tabClicked",s[2]);var c=s[1][s[0]];function i(l){return{}}return c&&(a=new c(i()),a.$on("downloadAdded",s[2])),{c(){e=m("div"),K(t.$$.fragment),r=w(),o=m("div"),a&&K(a.$$.fragment),u(o,"class","component-container svelte-11tevr1"),u(e,"class","main-page svelte-11tevr1")},m(l,p){x(l,e,p),U(t,e,null),d(e,r),d(e,o),a&&U(a,o,null),n=!0},p(l,[p]){const f={};if(p&1&&(f.activeTab=l[0]),t.$set(f),c!==(c=l[1][l[0]])){if(a){Ke();const y=a;j(y.$$.fragment,1,0,()=>{F(y,1)}),Je()}c?(a=new c(i()),a.$on("downloadAdded",l[2]),K(a.$$.fragment),N(a.$$.fragment,1),U(a,o,null)):a=null}},i(l){n||(N(t.$$.fragment,l),a&&N(a.$$.fragment,l),n=!0)},o(l){j(t.$$.fragment,l),a&&j(a.$$.fragment,l),n=!1},d(l){l&&_(e),F(t),a&&F(a)}}}function Ws(s,e,t){const r={add_download:Ds,play_arrow:ke,pause:ke,stop:ke,settings:ks};let o;const a=n=>{switch(t(0,o=n.detail),o){case"play_arrow":{M.clearAllPolling(),M.startActivePolling();break}case"pause":{M.clearAllPolling(),M.startWaitingPolling();break}case"stop":{M.clearAllPolling(),M.startStoppedPolling();break}default:{M.clearAllPolling();break}}};return a({detail:"play_arrow"}),[o,r,a]}class $s extends Y{constructor(e){super(),J(this,e,Ws,Ms,V,{})}}new $s({target:document.getElementById("app")});
