var Vs=Object.defineProperty;var Ks=(t,e,s)=>e in t?Vs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var F=(t,e,s)=>(Ks(t,typeof e!="symbol"?e+"":e,s),s);const Gs=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerpolicy&&(l.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?l.credentials="include":n.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=s(n);fetch(n.href,l)}};Gs();function I(){}const Es=t=>t;function Os(t){return t()}function ns(){return Object.create(null)}function _e(t){t.forEach(Os)}function gt(t){return typeof t=="function"}function oe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Js(t){return Object.keys(t).length===0}function Ds(t,...e){if(t==null)return I;const s=t.subscribe(...e);return s.unsubscribe?()=>s.unsubscribe():s}function J(t){let e;return Ds(t,s=>e=s)(),e}function be(t,e,s){t.$$.on_destroy.push(Ds(e,s))}function dt(t,e,s){return t.set(s),e}const Ms=typeof window!="undefined";let Ws=Ms?()=>window.performance.now():()=>Date.now(),It=Ms?t=>requestAnimationFrame(t):I;const Oe=new Set;function Is(t){Oe.forEach(e=>{e.c(t)||(Oe.delete(e),e.f())}),Oe.size!==0&&It(Is)}function Ns(t){let e;return Oe.size===0&&It(Is),{promise:new Promise(s=>{Oe.add(e={c:t,f:s})}),abort(){Oe.delete(e)}}}function i(t,e){t.appendChild(e)}function Us(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Ys(t){const e=v("style");return Qs(Us(t),e),e.sheet}function Qs(t,e){i(t.head||t,e)}function S(t,e,s){t.insertBefore(e,s||null)}function x(t){t.parentNode.removeChild(t)}function ke(t,e){for(let s=0;s<t.length;s+=1)t[s]&&t[s].d(e)}function v(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function b(){return _(" ")}function Zs(){return _("")}function re(t,e,s,r){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)}function ut(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function h(t,e,s){s==null?t.removeAttribute(e):t.getAttribute(e)!==s&&t.setAttribute(e,s)}function Xs(t){return Array.from(t.childNodes)}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ft(t,e){t.value=e==null?"":e}function ls(t,e,s,r){s===null?t.style.removeProperty(e):t.style.setProperty(e,s,r?"important":"")}function Y(t,e,s){t.classList[s?"add":"remove"](e)}function er(t,e,{bubbles:s=!1,cancelable:r=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,s,r,e),n}const pt=new Map;let mt=0;function tr(t){let e=5381,s=t.length;for(;s--;)e=(e<<5)-e^t.charCodeAt(s);return e>>>0}function sr(t,e){const s={stylesheet:Ys(e),rules:{}};return pt.set(t,s),s}function Tt(t,e,s,r,n,l,o,d=0){const a=16.666/r;let u=`{
`;for(let w=0;w<=1;w+=a){const C=e+(s-e)*l(w);u+=w*100+`%{${o(C,1-C)}}
`}const m=u+`100% {${o(s,1-s)}}
}`,p=`__svelte_${tr(m)}_${d}`,c=Us(t),{stylesheet:f,rules:y}=pt.get(c)||sr(c,t);y[p]||(y[p]=!0,f.insertRule(`@keyframes ${p} ${m}`,f.cssRules.length));const k=t.style.animation||"";return t.style.animation=`${k?`${k}, `:""}${p} ${r}ms linear ${n}ms 1 both`,mt+=1,p}function Bs(t,e){const s=(t.style.animation||"").split(", "),r=s.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),n=s.length-r.length;n&&(t.style.animation=r.join(", "),mt-=n,mt||rr())}function rr(){It(()=>{mt||(pt.forEach(t=>{const{stylesheet:e}=t;let s=e.cssRules.length;for(;s--;)e.deleteRule(s);t.rules={}}),pt.clear())})}function nr(t,e,s,r){if(!e)return I;const n=t.getBoundingClientRect();if(e.left===n.left&&e.right===n.right&&e.top===n.top&&e.bottom===n.bottom)return I;const{delay:l=0,duration:o=300,easing:d=Es,start:a=Ws()+l,end:u=a+o,tick:m=I,css:p}=s(t,{from:e,to:n},r);let c=!0,f=!1,y;function k(){p&&(y=Tt(t,0,1,o,l,d,p)),l||(f=!0)}function w(){p&&Bs(t,y),c=!1}return Ns(C=>{if(!f&&C>=a&&(f=!0),f&&C>=u&&(m(1,0),w()),!c)return!1;if(f){const W=C-a,T=0+1*d(W/o);m(T,1-T)}return!0}),k(),m(0,1),w}function lr(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:s,height:r}=e,n=t.getBoundingClientRect();t.style.position="absolute",t.style.width=s,t.style.height=r,Hs(t,n)}}function Hs(t,e){const s=t.getBoundingClientRect();if(e.left!==s.left||e.top!==s.top){const r=getComputedStyle(t),n=r.transform==="none"?"":r.transform;t.style.transform=`${n} translate(${e.left-s.left}px, ${e.top-s.top}px)`}}let Je;function Ge(t){Je=t}function or(){if(!Je)throw new Error("Function called outside component initialization");return Je}function Nt(t){or().$$.on_mount.push(t)}const Ke=[],ce=[],at=[],Et=[],ar=Promise.resolve();let Ot=!1;function ir(){Ot||(Ot=!0,ar.then(qs))}function Ye(t){at.push(t)}function Te(t){Et.push(t)}const Ct=new Set;let ot=0;function qs(){const t=Je;do{for(;ot<Ke.length;){const e=Ke[ot];ot++,Ge(e),cr(e.$$)}for(Ge(null),Ke.length=0,ot=0;ce.length;)ce.pop()();for(let e=0;e<at.length;e+=1){const s=at[e];Ct.has(s)||(Ct.add(s),s())}at.length=0}while(Ke.length);for(;Et.length;)Et.pop()();Ot=!1,Ct.clear(),Ge(t)}function cr(t){if(t.fragment!==null){t.update(),_e(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ye)}}let je;function dr(){return je||(je=Promise.resolve(),je.then(()=>{je=null})),je}function $t(t,e,s){t.dispatchEvent(er(`${e?"intro":"outro"}${s}`))}const it=new Set;let ye;function Ut(){ye={r:0,c:[],p:ye}}function Bt(){ye.r||_e(ye.c),ye=ye.p}function K(t,e){t&&t.i&&(it.delete(t),t.i(e))}function Q(t,e,s,r){if(t&&t.o){if(it.has(t))return;it.add(t),ye.c.push(()=>{it.delete(t),r&&(s&&t.d(1),r())}),t.o(e)}}const ur={duration:0};function os(t,e,s,r){let n=e(t,s),l=r?0:1,o=null,d=null,a=null;function u(){a&&Bs(t,a)}function m(c,f){const y=c.b-l;return f*=Math.abs(y),{a:l,b:c.b,d:y,duration:f,start:c.start,end:c.start+f,group:c.group}}function p(c){const{delay:f=0,duration:y=300,easing:k=Es,tick:w=I,css:C}=n||ur,W={start:Ws()+f,b:c};c||(W.group=ye,ye.r+=1),o||d?d=W:(C&&(u(),a=Tt(t,l,c,y,f,k,C)),c&&w(0,1),o=m(W,y),Ye(()=>$t(t,c,"start")),Ns(T=>{if(d&&T>d.start&&(o=m(d,y),d=null,$t(t,o.b,"start"),C&&(u(),a=Tt(t,l,o.b,o.duration,0,k,n.css))),o){if(T>=o.end)w(l=o.b,1-l),$t(t,o.b,"end"),d||(o.b?u():--o.group.r||_e(o.group.c)),o=null;else if(T>=o.start){const U=T-o.start;l=o.a+o.d*k(U/o.duration),w(l,1-l)}}return!!(o||d)}))}return{run(c){gt(n)?dr().then(()=>{n=n(),p(c)}):p(c)},end(){u(),o=d=null}}}function fr(t,e){Q(t,1,1,()=>{e.delete(t.key)})}function pr(t,e){t.f(),fr(t,e)}function mr(t,e,s,r,n,l,o,d,a,u,m,p){let c=t.length,f=l.length,y=c;const k={};for(;y--;)k[t[y].key]=y;const w=[],C=new Map,W=new Map;for(y=f;y--;){const z=p(n,l,y),P=s(z);let E=o.get(P);E?r&&E.p(z,e):(E=u(P,z),E.c()),C.set(P,w[y]=E),P in k&&W.set(P,Math.abs(y-k[P]))}const T=new Set,U=new Set;function B(z){K(z,1),z.m(d,m),o.set(z.key,z),m=z.first,f--}for(;c&&f;){const z=w[f-1],P=t[c-1],E=z.key,O=P.key;z===P?(m=z.first,c--,f--):C.has(O)?!o.has(E)||T.has(E)?B(z):U.has(O)?c--:W.get(E)>W.get(O)?(U.add(E),B(z)):(T.add(O),c--):(a(P,o),c--)}for(;c--;){const z=t[c];C.has(z.key)||a(z,o)}for(;f;)B(w[f-1]);return w}function Ee(t,e,s){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=s,s(t.$$.ctx[r]))}function le(t){t&&t.c()}function te(t,e,s,r){const{fragment:n,on_mount:l,on_destroy:o,after_update:d}=t.$$;n&&n.m(e,s),r||Ye(()=>{const a=l.map(Os).filter(gt);o?o.push(...a):_e(a),t.$$.on_mount=[]}),d.forEach(Ye)}function se(t,e){const s=t.$$;s.fragment!==null&&(_e(s.on_destroy),s.fragment&&s.fragment.d(e),s.on_destroy=s.fragment=null,s.ctx=[])}function hr(t,e){t.$$.dirty[0]===-1&&(Ke.push(t),ir(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function de(t,e,s,r,n,l,o,d=[-1]){const a=Je;Ge(t);const u=t.$$={fragment:null,ctx:null,props:l,update:I,not_equal:n,bound:ns(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ns(),dirty:d,skip_bound:!1,root:e.target||a.$$.root};o&&o(u.root);let m=!1;if(u.ctx=s?s(t,e.props||{},(p,c,...f)=>{const y=f.length?f[0]:c;return u.ctx&&n(u.ctx[p],u.ctx[p]=y)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](y),m&&hr(t,p)),c}):[],u.update(),m=!0,_e(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const p=Xs(e.target);u.fragment&&u.fragment.l(p),p.forEach(x)}else u.fragment&&u.fragment.c();e.intro&&K(t.$$.fragment),te(t,e.target,e.anchor,e.customElement),qs()}Ge(a)}class ue{$destroy(){se(this,1),this.$destroy=I}$on(e,s){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(s),()=>{const n=r.indexOf(s);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!Js(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ae=[];function ae(t,e=I){let s;const r=new Set;function n(d){if(oe(t,d)&&(t=d,s)){const a=!Ae.length;for(const u of r)u[1](),Ae.push(u,t);if(a){for(let u=0;u<Ae.length;u+=2)Ae[u][0](Ae[u+1]);Ae.length=0}}}function l(d){n(d(t))}function o(d,a=I){const u=[d,a];return r.add(u),r.size===1&&(s=e(n)||I),d(t),()=>{r.delete(u),r.size===0&&(s(),s=null)}}return{set:n,update:l,subscribe:o}}const Ve=t=>{let e=["aria2.onDownloadError"].includes(t.method);Fs(),we({head:t.method,desc:t.params,error:e})},yr={"aria2.onDownloadStart":Ve,"aria2.onDownloadComplete":Ve,"aria2.onDownloadError":Ve,"aria2.onDownloadPause":Ve,"aria2.onDownloadStop":Ve},Pe=t=>{if(t.error!=null){yt.set([]),we({head:t.error.message,desc:[{gid:"code: "+t.error.code}],error:!0}),console.log("error",t);return}if(t.id.substring(0,4)==="tell"){yt.set(t.result);return}if(t.id.substring(0,3)==="add"){H.tellActive();return}Fs()},vr=t=>{Qe.set(t.result)},gr={adduri:Pe,addtorrent:Pe,remove:Pe,tellactive:Pe,tellwaiting:Pe,tellstopped:Pe,tellstatus:vr,pause:t=>{H.tellActive()},unpause:t=>{H.tellWaiting()}};class br{constructor(e){F(this,"WS");F(this,"setupWebSocket",()=>{this.WS.onopen=e=>we({head:"Websocket",desc:[{gid:"Connection Successful"}]}),this.WS.onmessage=e=>this.onMessageHandler(e),this.WS.onerror=e=>we({head:"Websocket",desc:[{gid:"Connection Failed"}],error:!0})});F(this,"onMessageHandler",e=>{let s=JSON.parse(e.data);if(s.method!==void 0){yr[s.method](s);return}gr[s.id](s)});F(this,"wsreq",(e,s,r)=>{if(!this.WS){we({head:"Websocket",desc:[{gid:"Connection not established!"}],error:!0});return}if(this.WS.readyState!==1){console.log("Connection lost or not yet open!"),we({head:"Websocket",desc:[{gid:"Connection Lost or not open yet!"}],error:!0});return}var n={jsonrpc:"2.0",id:e,method:s,params:typeof r=="undefined"?[]:r};J(ht)&&n.params.unshift("token:"+J(ht)),this.WS.send(JSON.stringify(n))});F(this,"pauseDownload",e=>this.wsreq("pause","aria2.pause",[e]));F(this,"unpauseDownload",e=>this.wsreq("unpause","aria2.unpause",[e]));F(this,"removeDownload",e=>this.wsreq("remove","aria2.remove",[e]));F(this,"tellStatus",e=>this.wsreq("tellstatus","aria2.tellStatus",[e]));F(this,"tellActive",()=>{this.wsreq("tellactive","aria2.tellActive",[["gid","status","totalLength","completedLength","uploadLength","downloadSpeed","uploadSpeed","infoHash","numSeeders","pieceLength","numPieces","connections","errorCode","files","bittorrent"]])});F(this,"tellWaiting",()=>{this.wsreq("tellwaiting","aria2.tellWaiting",[0,100,["gid","status","totalLength","completedLength","uploadLength","downloadSpeed","uploadSpeed","infoHash","numSeeders","pieceLength","numPieces","connections","errorCode","files","bittorrent"]])});F(this,"tellStopped",()=>{this.wsreq("tellstopped","aria2.tellStopped",[0,100,["gid","status","totalLength","completedLength","uploadLength","downloadSpeed","uploadSpeed","infoHash","numSeeders","pieceLength","numPieces","connections","errorCode","files","bittorrent"]])});F(this,"startActivePolling",()=>{this.tellActive(),as.set(setInterval(this.tellActive,J(ct)))});F(this,"startWaitingPolling",()=>{this.tellWaiting(),is.set(setInterval(this.tellWaiting,J(ct)))});F(this,"startStoppedPolling",()=>{this.tellStopped(),cs.set(setInterval(this.tellStopped,J(ct)))});F(this,"clearActivePolling",()=>clearInterval(J(as)));F(this,"clearWaitingPolling",()=>clearInterval(J(is)));F(this,"clearStoppedPolling",()=>clearInterval(J(cs)));F(this,"clearAllPolling",()=>{this.clearActivePolling(),this.clearStoppedPolling(),this.clearWaitingPolling()});try{this.WS=new WebSocket(e),this.setupWebSocket()}catch(s){we({head:"Websocket",desc:[{gid:s.message}],error:!0})}}}const Dt=ae("ws://localhost:6800/jsonrpc"),ht=ae(""),ct=ae(3e3),yt=ae([]),as=ae(),is=ae(),cs=ae(),Re=ae([]),ge=ae("play_arrow");ge.subscribe(()=>{yt.set([])});const Mt=ae("");Mt.subscribe(t=>{document.getElementById("custom-css-link").setAttribute("href",t)});let H;Dt.subscribe(t=>{console.log("changed value of websocket URL"),H=new br(t)});const Wt=ae(!0);Wt.subscribe(t=>{t&&(document.body.classList.add("dark-theme"),document.body.classList.remove("light-theme")),t||(document.body.classList.add("light-theme"),document.body.classList.remove("dark-theme"))});const Qe=ae(null);setInterval(()=>{let t=J(Qe);!t||t.status=="complete"||H.tellStatus(t.gid)},J(ct));const we=t=>{Re.set([...J(Re),t]),setTimeout(()=>{J(Re).shift(),Re.set(J(Re))},5e3)},Fs=()=>{switch(J(ge)){case"play_arrow":{H.tellActive();break}case"pause":{H.tellWaiting();break}case"stop":{H.tellStopped();break}}},vt=t=>{const e=s=>s.split("/").filter(r=>r).reverse()[0];return t.bittorrent&&t.bittorrent.info?t.bittorrent.info.name:t.files[0].path!==""?e(t.files[0].path):e(t.files[0].uris[0].uri.split("?",1)[0])},V=(t,e=2)=>{let s=parseInt(t);if(s===0)return"0 B";const r=1024,n=e<0?0:e,l=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],o=Math.floor(Math.log(s)/Math.log(r));return parseFloat((s/Math.pow(r,o)).toFixed(n))+" "+l[o]};function ds(t,e,s){const r=t.slice();return r[4]=e[s][0],r[5]=e[s][1],r}function us(t){let e,s,r=t[4]+"",n,l,o,d=t[5]+"",a,u,m,p;function c(){return t[3](t[4])}return{c(){e=v("div"),s=v("button"),n=_(r),l=b(),o=v("div"),a=_(d),u=b(),h(s,"class","rail-item material-icons svelte-7o9g7f"),Y(s,"active",t[0]==t[4]),h(o,"class","icon-label body2 svelte-7o9g7f"),h(e,"class","rail-item-wrapper svelte-7o9g7f")},m(f,y){S(f,e,y),i(e,s),i(s,n),i(e,l),i(e,o),i(o,a),i(e,u),m||(p=re(e,"click",c),m=!0)},p(f,y){t=f,y&3&&Y(s,"active",t[0]==t[4])},d(f){f&&x(e),m=!1,p()}}}function _r(t){let e,s,r,n,l,o,d,a=Object.entries(t[1]),u=[];for(let m=0;m<a.length;m+=1)u[m]=us(ds(t,a,m));return{c(){e=v("div"),s=v("div"),r=v("button"),r.textContent="add",n=b(),l=v("div");for(let m=0;m<u.length;m+=1)u[m].c();h(r,"class","rail-item-big primary material-icons svelte-7o9g7f"),h(s,"class","big-button-container svelte-7o9g7f"),h(l,"class","nested-vertical-flex svelte-7o9g7f"),h(e,"class","siderail headline4 svelte-7o9g7f")},m(m,p){S(m,e,p),i(e,s),i(s,r),i(e,n),i(e,l);for(let c=0;c<u.length;c+=1)u[c].m(l,null);o||(d=re(r,"click",t[2]),o=!0)},p(m,[p]){if(p&3){a=Object.entries(m[1]);let c;for(c=0;c<a.length;c+=1){const f=ds(m,a,c);u[c]?u[c].p(f,p):(u[c]=us(f),u[c].c(),u[c].m(l,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=a.length}},i:I,o:I,d(m){m&&x(e),ke(u,m),o=!1,d()}}}function wr(t,e,s){let r;return be(t,ge,d=>s(0,r=d)),[r,{play_arrow:"Active",pause:"Paused",stop:"Stopped",settings:"Settings"},()=>{dt(ge,r="add_download",r)},d=>{dt(ge,r=d,r)}]}class kr extends ue{constructor(e){super(),de(this,e,wr,_r,oe,{})}}function fs(t){let e,s;return{c(){e=v("span"),s=_(t[2]),h(e,"class","material-icons label-icon svelte-8hwhrs")},m(r,n){S(r,e,n),i(e,s)},p(r,n){n&4&&M(s,r[2])},d(r){r&&x(e)}}}function ps(t){let e,s,r,n;return{c(){e=v("button"),s=_(t[5]),h(e,"class","material-icons submitbtn svelte-8hwhrs"),Y(e,"merged",t[4])},m(l,o){S(l,e,o),i(e,s),r||(n=re(e,"click",function(){gt(t[1])&&t[1].apply(this,arguments)}),r=!0)},p(l,o){t=l,o&32&&M(s,t[5]),o&16&&Y(e,"merged",t[4])},d(l){l&&x(e),r=!1,n()}}}function xr(t){let e,s,r,n,l,o,d,a,u,m,p=t[2]&&fs(t),c=t[1]&&ps(t);return{c(){e=v("div"),p&&p.c(),s=b(),r=v("span"),n=v("input"),l=b(),o=v("span"),d=_(t[3]),a=b(),c&&c.c(),h(n,"spellcheck","false"),h(n,"type","text"),n.required=!0,h(n,"class","body1 svelte-8hwhrs"),Y(n,"merged",t[4]),h(o,"class","input-label svelte-8hwhrs"),h(r,"class","input-label-wrapper svelte-8hwhrs"),h(e,"class","flex-parent body1 svelte-8hwhrs")},m(f,y){S(f,e,y),p&&p.m(e,null),i(e,s),i(e,r),i(r,n),t[7](n),ft(n,t[0]),i(r,l),i(r,o),i(o,d),i(e,a),c&&c.m(e,null),u||(m=re(n,"input",t[8]),u=!0)},p(f,[y]){f[2]?p?p.p(f,y):(p=fs(f),p.c(),p.m(e,s)):p&&(p.d(1),p=null),y&1&&n.value!==f[0]&&ft(n,f[0]),y&16&&Y(n,"merged",f[4]),y&8&&M(d,f[3]),f[1]?c?c.p(f,y):(c=ps(f),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i:I,o:I,d(f){f&&x(e),p&&p.d(),t[7](null),c&&c.d(),u=!1,m()}}}function Sr(t,e,s){let{value:r=""}=e,{func:n=null}=e,{icon:l=""}=e,{label:o=""}=e,{merged:d=!1}=e,{btnicon:a="done"}=e,u;Nt(()=>{s(6,u.onkeyup=c=>{c.key==="Enter"&&n&&n()},u)});function m(c){ce[c?"unshift":"push"](()=>{u=c,s(6,u)})}function p(){r=this.value,s(0,r)}return t.$$set=c=>{"value"in c&&s(0,r=c.value),"func"in c&&s(1,n=c.func),"icon"in c&&s(2,l=c.icon),"label"in c&&s(3,o=c.label),"merged"in c&&s(4,d=c.merged),"btnicon"in c&&s(5,a=c.btnicon)},[r,n,l,o,d,a,u,m,p]}class At extends ue{constructor(e){super(),de(this,e,Sr,xr,oe,{value:0,func:1,icon:2,label:3,merged:4,btnicon:5})}}function zr(t){let e,s,r,n,l,o,d,a,u,m,p,c,f;return{c(){e=v("label"),s=v("span"),r=_(t[1]),n=b(),l=v("div"),o=_(t[2]),d=b(),a=v("span"),u=v("input"),m=b(),p=v("div"),h(s,"class","material-icons label-icon svelte-1676xwx"),h(l,"class","caption body1 svelte-1676xwx"),h(u,"type","checkbox"),h(u,"class","svelte-1676xwx"),h(p,"class","toggle svelte-1676xwx"),h(a,"class","checkbox-wrapper svelte-1676xwx"),h(e,"class","m3-checkbox svelte-1676xwx")},m(y,k){S(y,e,k),i(e,s),i(s,r),i(e,n),i(e,l),i(l,o),i(e,d),i(e,a),i(a,u),u.checked=t[0],i(a,m),i(a,p),c||(f=re(u,"change",t[3]),c=!0)},p(y,[k]){k&2&&M(r,y[1]),k&4&&M(o,y[2]),k&1&&(u.checked=y[0])},i:I,o:I,d(y){y&&x(e),c=!1,f()}}}function Lr(t,e,s){let{checked:r=!1}=e,{icon:n=""}=e,{label:l=""}=e;function o(){r=this.checked,s(0,r)}return t.$$set=d=>{"checked"in d&&s(0,r=d.checked),"icon"in d&&s(1,n=d.icon),"label"in d&&s(2,l=d.label)},[r,n,l,o]}class Cr extends ue{constructor(e){super(),de(this,e,Lr,zr,oe,{checked:0,icon:1,label:2})}}function $r(t){let e,s,r,n,l,o,d,a,u,m,p,c,f,y,k,w,C,W,T;function U(g){t[5](g)}let B={icon:"public",label:"JsonRPC URL",func:t[4]};t[0]!==void 0&&(B.value=t[0]),o=new At({props:B}),ce.push(()=>Ee(o,"value",U));function z(g){t[6](g)}let P={icon:"password",label:"JsonRPC Secret"};t[2]!==void 0&&(P.value=t[2]),u=new At({props:P}),ce.push(()=>Ee(u,"value",z));function E(g){t[7](g)}let O={icon:"dark_mode",label:"Dark Theme"};t[3]!==void 0&&(O.checked=t[3]),y=new Cr({props:O}),ce.push(()=>Ee(y,"checked",E));function A(g){t[9](g)}let N={icon:"palette",label:"CSS Theme",func:t[8]};return t[1]!==void 0&&(N.value=t[1]),C=new At({props:N}),ce.push(()=>Ee(C,"value",A)),{c(){e=v("div"),s=v("div"),s.textContent="SETTINGS",r=b(),n=v("div"),n.textContent="TOKENS",l=b(),le(o.$$.fragment),a=b(),le(u.$$.fragment),p=b(),c=v("div"),c.textContent="DISPLAY",f=b(),le(y.$$.fragment),w=b(),le(C.$$.fragment),h(s,"class","padded-h padded-v display3"),h(n,"class","padded-h subhead1 svelte-1az1y56"),h(c,"class","padded-h subhead1 svelte-1az1y56"),h(e,"class","settings-container svelte-1az1y56")},m(g,$){S(g,e,$),i(e,s),i(e,r),i(e,n),i(e,l),te(o,e,null),i(e,a),te(u,e,null),i(e,p),i(e,c),i(e,f),te(y,e,null),i(e,w),te(C,e,null),T=!0},p(g,[$]){const fe={};$&1&&(fe.func=g[4]),!d&&$&1&&(d=!0,fe.value=g[0],Te(()=>d=!1)),o.$set(fe);const pe={};!m&&$&4&&(m=!0,pe.value=g[2],Te(()=>m=!1)),u.$set(pe);const ve={};!k&&$&8&&(k=!0,ve.checked=g[3],Te(()=>k=!1)),y.$set(ve);const he={};$&2&&(he.func=g[8]),!W&&$&2&&(W=!0,he.value=g[1],Te(()=>W=!1)),C.$set(he)},i(g){T||(K(o.$$.fragment,g),K(u.$$.fragment,g),K(y.$$.fragment,g),K(C.$$.fragment,g),T=!0)},o(g){Q(o.$$.fragment,g),Q(u.$$.fragment,g),Q(y.$$.fragment,g),Q(C.$$.fragment,g),T=!1},d(g){g&&x(e),se(o),se(u),se(y),se(C)}}}function Ar(t,e,s){let r,n;be(t,ht,f=>s(2,r=f)),be(t,Wt,f=>s(3,n=f));let l=J(Dt),o=J(Mt);const d=()=>{Dt.set(l)};function a(f){l=f,s(0,l)}function u(f){r=f,ht.set(r)}function m(f){n=f,Wt.set(n)}const p=()=>{Mt.set(o)};function c(f){o=f,s(1,o)}return[l,o,r,n,d,a,u,m,p,c]}class Pr extends ue{constructor(e){super(),de(this,e,Ar,$r,oe,{})}}function ms(t,e,s){const r=t.slice();return r[4]=e[s],r}function hs(t,e,s){const r=t.slice();return r[7]=e[s],r}function ys(t,e,s){const r=t.slice();return r[10]=e[s],r}function Pt(t){const e=t.slice(),s=e[0];return e[3]=s,e}function vs(t){let e,s,r,n,l=vt(t[3])+"",o,d,a,u,m=t[3].gid+"",p,c,f,y,k=t[3].connections+"",w,C,W,T,U=t[3].dir+"",B,z,P,E,O=V(t[3].downloadSpeed)+"",A,N,g,$,fe,pe=t[3].infoHash+"",ve,he,ne,G,xe=t[3].numPieces+"",Se,De,R,me,ie=t[3].numSeeders+"",ze,Me,j,We,Ze=V(t[3].pieceLength)+"",bt,Ht,Ie,qt,Xe=t[3].seeder+"",_t,Ft,Ne,jt,et=t[3].status+"",wt,Vt,Ue,Kt,tt=V(t[3].totalLength)+"",kt,Gt,Be,Jt,st=V(t[3].uploadLength)+"",xt,Yt,Le,Qt,rt=V(t[3].uploadSpeed)+"",St,Zt,Xt,nt,es,He,ts,zt,lt,ss,qe,Lt,rs,Ce=t[3].files,Z=[];for(let L=0;L<Ce.length;L+=1)Z[L]=gs(ys(t,Ce,L));let X=t[3].bittorrent&&bs(t),$e=t[1](t[3].bitfield,parseInt(t[3].numPieces)).split(""),ee=[];for(let L=0;L<$e.length;L+=1)ee[L]=ws(ms(t,$e,L));return{c(){e=v("div"),s=v("button"),s.textContent="close",r=b(),n=v("div"),o=_(l),d=b(),a=v("div"),u=_("GID : "),p=_(m),c=b(),f=v("div"),y=_("Connections : "),w=_(k),C=b(),W=v("div"),T=_("Dir : "),B=_(U),z=b(),P=v("div"),E=_("Download speed : "),A=_(O),N=_("/s"),g=b(),$=v("div"),fe=_("Info Hash : "),ve=_(pe),he=b(),ne=v("div"),G=_("Number of Pieces : "),Se=_(xe),De=b(),R=v("div"),me=_("Number of seeders : "),ze=_(ie),Me=b(),j=v("div"),We=_("Piece Length : "),bt=_(Ze),Ht=b(),Ie=v("div"),qt=_("seeder : "),_t=_(Xe),Ft=b(),Ne=v("div"),jt=_("Status : "),wt=_(et),Vt=b(),Ue=v("div"),Kt=_("Total Length : "),kt=_(tt),Gt=b(),Be=v("div"),Jt=_("Upload Length : "),xt=_(st),Yt=b(),Le=v("div"),Qt=_("Upload Speed : "),St=_(rt),Zt=_("/s"),Xt=b(),nt=v("div"),nt.textContent="Files:",es=b(),He=v("div");for(let L=0;L<Z.length;L+=1)Z[L].c();ts=b(),X&&X.c(),zt=b(),lt=v("div"),lt.textContent="Pieces Bitmap",ss=b(),qe=v("div");for(let L=0;L<ee.length;L+=1)ee[L].c();h(s,"class","material-icons btn svelte-1h4hr98"),h(n,"class","headline1 svelte-1h4hr98"),h(a,"class","headline4 svelte-1h4hr98"),h(f,"class","body1 svelte-1h4hr98"),h(W,"class","body1 svelte-1h4hr98"),h(P,"class","body1 svelte-1h4hr98"),h($,"class","body1 svelte-1h4hr98"),h(ne,"class","body1 svelte-1h4hr98"),h(R,"class","body1 svelte-1h4hr98"),h(j,"class","body1 svelte-1h4hr98"),h(Ie,"class","body1 svelte-1h4hr98"),h(Ne,"class","body1 svelte-1h4hr98"),h(Ue,"class","body1 svelte-1h4hr98"),h(Be,"class","body1 svelte-1h4hr98"),h(Le,"class","body1 svelte-1h4hr98"),h(nt,"class","body1 svelte-1h4hr98"),h(He,"class","body2 padded-h svelte-1h4hr98"),h(lt,"class","body1 svelte-1h4hr98"),h(qe,"class","pieces-container svelte-1h4hr98"),h(e,"class","details svelte-1h4hr98")},m(L,q){S(L,e,q),i(e,s),i(e,r),i(e,n),i(n,o),i(e,d),i(e,a),i(a,u),i(a,p),i(e,c),i(e,f),i(f,y),i(f,w),i(e,C),i(e,W),i(W,T),i(W,B),i(e,z),i(e,P),i(P,E),i(P,A),i(P,N),i(e,g),i(e,$),i($,fe),i($,ve),i(e,he),i(e,ne),i(ne,G),i(ne,Se),i(e,De),i(e,R),i(R,me),i(R,ze),i(e,Me),i(e,j),i(j,We),i(j,bt),i(e,Ht),i(e,Ie),i(Ie,qt),i(Ie,_t),i(e,Ft),i(e,Ne),i(Ne,jt),i(Ne,wt),i(e,Vt),i(e,Ue),i(Ue,Kt),i(Ue,kt),i(e,Gt),i(e,Be),i(Be,Jt),i(Be,xt),i(e,Yt),i(e,Le),i(Le,Qt),i(Le,St),i(Le,Zt),i(e,Xt),i(e,nt),i(e,es),i(e,He);for(let D=0;D<Z.length;D+=1)Z[D].m(He,null);i(e,ts),X&&X.m(e,null),i(e,zt),i(e,lt),i(e,ss),i(e,qe);for(let D=0;D<ee.length;D+=1)ee[D].m(qe,null);Lt||(rs=re(s,"click",t[2]),Lt=!0)},p(L,q){if(q&1&&l!==(l=vt(L[3])+"")&&M(o,l),q&1&&m!==(m=L[3].gid+"")&&M(p,m),q&1&&k!==(k=L[3].connections+"")&&M(w,k),q&1&&U!==(U=L[3].dir+"")&&M(B,U),q&1&&O!==(O=V(L[3].downloadSpeed)+"")&&M(A,O),q&1&&pe!==(pe=L[3].infoHash+"")&&M(ve,pe),q&1&&xe!==(xe=L[3].numPieces+"")&&M(Se,xe),q&1&&ie!==(ie=L[3].numSeeders+"")&&M(ze,ie),q&1&&Ze!==(Ze=V(L[3].pieceLength)+"")&&M(bt,Ze),q&1&&Xe!==(Xe=L[3].seeder+"")&&M(_t,Xe),q&1&&et!==(et=L[3].status+"")&&M(wt,et),q&1&&tt!==(tt=V(L[3].totalLength)+"")&&M(kt,tt),q&1&&st!==(st=V(L[3].uploadLength)+"")&&M(xt,st),q&1&&rt!==(rt=V(L[3].uploadSpeed)+"")&&M(St,rt),q&1){Ce=L[3].files;let D;for(D=0;D<Ce.length;D+=1){const Fe=ys(L,Ce,D);Z[D]?Z[D].p(Fe,q):(Z[D]=gs(Fe),Z[D].c(),Z[D].m(He,null))}for(;D<Z.length;D+=1)Z[D].d(1);Z.length=Ce.length}if(L[3].bittorrent?X?X.p(L,q):(X=bs(L),X.c(),X.m(e,zt)):X&&(X.d(1),X=null),q&3){$e=L[1](L[3].bitfield,parseInt(L[3].numPieces)).split("");let D;for(D=0;D<$e.length;D+=1){const Fe=ms(L,$e,D);ee[D]?ee[D].p(Fe,q):(ee[D]=ws(Fe),ee[D].c(),ee[D].m(qe,null))}for(;D<ee.length;D+=1)ee[D].d(1);ee.length=$e.length}},d(L){L&&x(e),ke(Z,L),X&&X.d(),ke(ee,L),Lt=!1,rs()}}}function gs(t){let e,s=t[10].path+"",r;return{c(){e=v("div"),r=_(s)},m(n,l){S(n,e,l),i(e,r)},p(n,l){l&1&&s!==(s=n[10].path+"")&&M(r,s)},d(n){n&&x(e)}}}function bs(t){let e,s,r,n=t[3].bittorrent.announceList,l=[];for(let o=0;o<n.length;o+=1)l[o]=_s(hs(t,n,o));return{c(){e=v("div"),e.textContent="Announce List",s=b(),r=v("div");for(let o=0;o<l.length;o+=1)l[o].c();h(e,"class","body1 svelte-1h4hr98"),h(r,"class","body2 padded-h svelte-1h4hr98")},m(o,d){S(o,e,d),S(o,s,d),S(o,r,d);for(let a=0;a<l.length;a+=1)l[a].m(r,null)},p(o,d){if(d&1){n=o[3].bittorrent.announceList;let a;for(a=0;a<n.length;a+=1){const u=hs(o,n,a);l[a]?l[a].p(u,d):(l[a]=_s(u),l[a].c(),l[a].m(r,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=n.length}},d(o){o&&x(e),o&&x(s),o&&x(r),ke(l,o)}}}function _s(t){let e,s=t[7]+"",r;return{c(){e=v("div"),r=_(s)},m(n,l){S(n,e,l),i(e,r)},p(n,l){l&1&&s!==(s=n[7]+"")&&M(r,s)},d(n){n&&x(e)}}}function ws(t){let e;return{c(){e=v("span"),h(e,"class","piece svelte-1h4hr98"),Y(e,"filled",t[4]=="1")},m(s,r){S(s,e,r)},p(s,r){r&3&&Y(e,"filled",s[4]=="1")},d(s){s&&x(e)}}}function Rr(t){let e,s=t[0]&&vs(Pt(t));return{c(){s&&s.c(),e=Zs()},m(r,n){s&&s.m(r,n),S(r,e,n)},p(r,[n]){r[0]?s?s.p(Pt(r),n):(s=vs(Pt(r)),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:I,o:I,d(r){s&&s.d(r),r&&x(e)}}}function Tr(t,e,s){let r;return be(t,Qe,o=>s(0,r=o)),[r,(o,d)=>o.split("").map(a=>parseInt(a,16).toString(2).padStart(4,"0")).join("").slice(0,d),()=>{dt(Qe,r=null,r)}]}class Er extends ue{constructor(e){super(),de(this,e,Tr,Rr,oe,{})}}function ks(t){let e,s,r,n=V(t[0].uploadSpeed)+"",l,o,d,a,u,m,p=V(t[0].downloadSpeed)+"",c,f,y,k,w,C,W,T=t[0].numSeeders+"",U,B,z,P,E,O,A=t[0].connections+"",N;return{c(){e=v("span"),e.textContent="north",s=b(),r=v("span"),l=_(n),o=_("/s"),d=b(),a=v("span"),a.textContent="south",u=b(),m=v("span"),c=_(p),f=_("/s"),y=b(),k=v("span"),k.textContent="north",w=b(),C=v("span"),W=_("seeders : "),U=_(T),B=b(),z=v("span"),z.textContent="south",P=b(),E=v("span"),O=_("peers : "),N=_(A),h(e,"class","material-icons svelte-1c1b98v"),h(r,"class","svelte-1c1b98v"),h(a,"class","material-icons svelte-1c1b98v"),h(m,"class","svelte-1c1b98v"),h(k,"class","material-icons svelte-1c1b98v"),h(C,"class","svelte-1c1b98v"),h(z,"class","material-icons svelte-1c1b98v"),h(E,"class","svelte-1c1b98v")},m(g,$){S(g,e,$),S(g,s,$),S(g,r,$),i(r,l),i(r,o),S(g,d,$),S(g,a,$),S(g,u,$),S(g,m,$),i(m,c),i(m,f),S(g,y,$),S(g,k,$),S(g,w,$),S(g,C,$),i(C,W),i(C,U),S(g,B,$),S(g,z,$),S(g,P,$),S(g,E,$),i(E,O),i(E,N)},p(g,$){$&1&&n!==(n=V(g[0].uploadSpeed)+"")&&M(l,n),$&1&&p!==(p=V(g[0].downloadSpeed)+"")&&M(c,p),$&1&&T!==(T=g[0].numSeeders+"")&&M(U,T),$&1&&A!==(A=g[0].connections+"")&&M(N,A)},d(g){g&&x(e),g&&x(s),g&&x(r),g&&x(d),g&&x(a),g&&x(u),g&&x(m),g&&x(y),g&&x(k),g&&x(w),g&&x(C),g&&x(B),g&&x(z),g&&x(P),g&&x(E)}}}function Or(t){let e;return{c(){e=v("span"),e.textContent="Error",h(e,"class","overline svelte-1c1b98v")},m(s,r){S(s,e,r)},p:I,d(s){s&&x(e)}}}function Dr(t){let e;return{c(){e=v("span"),e.textContent="Stopped",h(e,"class","overline svelte-1c1b98v")},m(s,r){S(s,e,r)},p:I,d(s){s&&x(e)}}}function Mr(t){let e;return{c(){e=v("span"),e.textContent="completed",h(e,"class","overline svelte-1c1b98v")},m(s,r){S(s,e,r)},p:I,d(s){s&&x(e)}}}function Wr(t){let e,s,r,n,l;return{c(){e=v("span"),e.innerHTML='<span class="material-icons svelte-1c1b98v">play_arrow</span> Resume',s=b(),r=v("span"),r.innerHTML='<span class="material-icons svelte-1c1b98v">close</span>Remove',h(e,"class","work-btns svelte-1c1b98v"),h(r,"class","work-btns svelte-1c1b98v")},m(o,d){S(o,e,d),S(o,s,d),S(o,r,d),n||(l=[re(e,"click",ut(t[3])),re(r,"click",ut(t[4]))],n=!0)},p:I,d(o){o&&x(e),o&&x(s),o&&x(r),n=!1,_e(l)}}}function Ir(t){let e,s,r,n,l;return{c(){e=v("span"),e.innerHTML='<span class="material-icons svelte-1c1b98v">pause</span> Pause',s=b(),r=v("span"),r.innerHTML='<span class="material-icons svelte-1c1b98v">stop</span> Stop',h(e,"class","work-btns svelte-1c1b98v"),h(r,"class","work-btns svelte-1c1b98v")},m(o,d){S(o,e,d),S(o,s,d),S(o,r,d),n||(l=[re(e,"click",ut(t[1])),re(r,"click",ut(t[2]))],n=!0)},p:I,d(o){o&&x(e),o&&x(s),o&&x(r),n=!1,_e(l)}}}function Nr(t){let e,s,r=vt(t[0])+"",n,l,o,d,a,u=V(t[0].completedLength)+"",m,p,c=V(t[0].totalLength)+"",f,y,k,w,C,W,T,U,B,z=t[0].status=="active"&&ks(t);function P(A,N){if(A[0].status=="active")return Ir;if(A[0].status=="paused")return Wr;if(A[0].status=="complete")return Mr;if(A[0].status=="removed")return Dr;if(A[0].status=="error")return Or}let E=P(t),O=E&&E(t);return{c(){e=v("div"),s=v("div"),n=_(r),l=b(),o=v("span"),o.textContent="download_for_offline",d=b(),a=v("span"),m=_(u),p=_(" / "),f=_(c),y=b(),k=v("div"),w=v("div"),C=b(),z&&z.c(),W=b(),T=v("div"),O&&O.c(),h(s,"class","title headline3 span-entire-row svelte-1c1b98v"),h(o,"class","material-icons size-padding svelte-1c1b98v"),h(a,"class","size size-padding svelte-1c1b98v"),h(w,"class","progress-bar svelte-1c1b98v"),ls(w,"width",parseFloat(t[0].completedLength)/parseFloat(t[0].totalLength)*100+"%"),h(k,"class","download-bar span-entire-row svelte-1c1b98v"),Y(k,"errorbar",t[0].status=="error"),h(T,"class","work-btn-container span-entire-row svelte-1c1b98v"),h(e,"class","download-card body1 svelte-1c1b98v"),Y(e,"error",t[0].status=="error")},m(A,N){S(A,e,N),i(e,s),i(s,n),i(e,l),i(e,o),i(e,d),i(e,a),i(a,m),i(a,p),i(a,f),i(e,y),i(e,k),i(k,w),i(e,C),z&&z.m(e,null),i(e,W),i(e,T),O&&O.m(T,null),U||(B=re(e,"click",t[5]),U=!0)},p(A,[N]){N&1&&r!==(r=vt(A[0])+"")&&M(n,r),N&1&&u!==(u=V(A[0].completedLength)+"")&&M(m,u),N&1&&c!==(c=V(A[0].totalLength)+"")&&M(f,c),N&1&&ls(w,"width",parseFloat(A[0].completedLength)/parseFloat(A[0].totalLength)*100+"%"),N&1&&Y(k,"errorbar",A[0].status=="error"),A[0].status=="active"?z?z.p(A,N):(z=ks(A),z.c(),z.m(e,W)):z&&(z.d(1),z=null),E===(E=P(A))&&O?O.p(A,N):(O&&O.d(1),O=E&&E(A),O&&(O.c(),O.m(T,null))),N&1&&Y(e,"error",A[0].status=="error")},i:I,o:I,d(A){A&&x(e),z&&z.d(),O&&O.d(),U=!1,B()}}}function Ur(t,e,s){let{data:r}=e;const n=()=>{H.pauseDownload(r.gid)},l=()=>{H.removeDownload(r.gid)},o=()=>{H.unpauseDownload(r.gid)},d=()=>{H.removeDownload(r.gid)},a=()=>{H.tellStatus(r.gid)};return t.$$set=u=>{"data"in u&&s(0,r=u.data)},[r,n,l,o,d,a]}class Br extends ue{constructor(e){super(),de(this,e,Ur,Nr,oe,{data:0})}}function xs(t,e,s){const r=t.slice();return r[2]=e[s],r}function Ss(t){let e,s;return e=new Br({props:{data:t[2]}}),{c(){le(e.$$.fragment)},m(r,n){te(e,r,n),s=!0},p(r,n){const l={};n&2&&(l.data=r[2]),e.$set(l)},i(r){s||(K(e.$$.fragment,r),s=!0)},o(r){Q(e.$$.fragment,r),s=!1},d(r){se(e,r)}}}function Hr(t){let e,s,r,n,l,o,d=t[1],a=[];for(let m=0;m<d.length;m+=1)a[m]=Ss(xs(t,d,m));const u=m=>Q(a[m],1,1,()=>{a[m]=null});return l=new Er({}),{c(){e=v("div"),s=v("div");for(let m=0;m<a.length;m+=1)a[m].c();r=b(),n=v("div"),le(l.$$.fragment),h(s,"class","download-cards svelte-1egs5x2"),h(n,"class","download-info svelte-1egs5x2"),h(e,"class","torrent-card-container svelte-1egs5x2"),Y(e,"pane-visible",t[0])},m(m,p){S(m,e,p),i(e,s);for(let c=0;c<a.length;c+=1)a[c].m(s,null);i(e,r),i(e,n),te(l,n,null),o=!0},p(m,[p]){if(p&2){d=m[1];let c;for(c=0;c<d.length;c+=1){const f=xs(m,d,c);a[c]?(a[c].p(f,p),K(a[c],1)):(a[c]=Ss(f),a[c].c(),K(a[c],1),a[c].m(s,null))}for(Ut(),c=d.length;c<a.length;c+=1)u(c);Bt()}p&1&&Y(e,"pane-visible",m[0])},i(m){if(!o){for(let p=0;p<d.length;p+=1)K(a[p]);K(l.$$.fragment,m),o=!0}},o(m){a=a.filter(Boolean);for(let p=0;p<a.length;p+=1)Q(a[p]);Q(l.$$.fragment,m),o=!1},d(m){m&&x(e),ke(a,m),se(l)}}}function qr(t,e,s){let r;be(t,yt,l=>s(1,r=l));let n=!1;return Qe.subscribe(l=>{s(0,n=!!l)}),[n,r]}class Rt extends ue{constructor(e){super(),de(this,e,qr,Hr,oe,{})}}function Fr(t){let e,s,r,n,l,o,d;return{c(){e=v("div"),s=v("span"),r=_(t[1]),n=b(),l=v("textarea"),h(s,"class","material-icons svelte-1w7r4or"),h(l,"rows",t[3]),h(l,"class","body1 svelte-1w7r4or"),h(l,"spellcheck","false"),h(l,"placeholder",t[2]),h(e,"class","m3-textarea svelte-1w7r4or")},m(a,u){S(a,e,u),i(e,s),i(s,r),i(e,n),i(e,l),t[6](l),ft(l,t[0]),o||(d=re(l,"input",t[7]),o=!0)},p(a,[u]){u&2&&M(r,a[1]),u&8&&h(l,"rows",a[3]),u&4&&h(l,"placeholder",a[2]),u&1&&ft(l,a[0])},i:I,o:I,d(a){a&&x(e),t[6](null),o=!1,d()}}}function jr(t,e,s){let{value:r=""}=e,{icon:n=""}=e,{placeholder:l=""}=e,{expandable:o=!1}=e,{rows:d=15}=e,a;const u=()=>{a.setAttribute("style","height:"+a.scrollHeight+"px;overflow-y:hidden;"),a.addEventListener("input",()=>{s(4,a.style.height="auto",a),s(4,a.style.height=a.scrollHeight+"px",a)},!1)};Nt(()=>{o&&u()});function m(c){ce[c?"unshift":"push"](()=>{a=c,s(4,a)})}function p(){r=this.value,s(0,r)}return t.$$set=c=>{"value"in c&&s(0,r=c.value),"icon"in c&&s(1,n=c.icon),"placeholder"in c&&s(2,l=c.placeholder),"expandable"in c&&s(5,o=c.expandable),"rows"in c&&s(3,d=c.rows)},[r,n,l,d,a,o,m,p]}class zs extends ue{constructor(e){super(),de(this,e,jr,Fr,oe,{value:0,icon:1,placeholder:2,expandable:5,rows:3})}}function Ls(t,e,s){const r=t.slice();return r[10]=e[s],r}function Cs(t){let e,s=t[10].name+"",r;return{c(){e=v("div"),r=_(s),h(e,"class","body1 torrent-file-list svelte-129nhvf")},m(n,l){S(n,e,l),i(e,r)},p(n,l){l&8&&s!==(s=n[10].name+"")&&M(r,s)},d(n){n&&x(e)}}}function Vr(t){var De;let e,s,r,n,l,o,d,a,u,m,p,c,f,y,k,w=t[3]?t[3].length+" selected":"",C,W,T,U,B,z,P,E,O,A,N,g,$,fe,pe;function ve(R){t[5](R)}let he={icon:"public",placeholder:"Magnet URI or Direct Link"};t[0]!==void 0&&(he.value=t[0]),o=new zs({props:he}),ce.push(()=>Ee(o,"value",ve));let ne=(De=t[3])!=null?De:[],G=[];for(let R=0;R<ne.length;R+=1)G[R]=Cs(Ls(t,ne,R));function xe(R){t[7](R)}let Se={icon:"checklist",rows:1,placeholder:"Header-Key: Header-Value",expandable:!0};return t[1]!==void 0&&(Se.value=t[1]),P=new zs({props:Se}),ce.push(()=>Ee(P,"value",xe)),{c(){e=v("div"),s=v("div"),s.textContent="Add Download",r=b(),n=v("div"),n.textContent="LINKS",l=b(),le(o.$$.fragment),a=b(),u=v("div"),u.textContent="*Multiple links can be added using newline",m=b(),p=v("label"),c=_(`Select torrents
        `),f=v("input"),y=b(),k=v("span"),C=_(w),W=b(),T=v("div");for(let R=0;R<G.length;R+=1)G[R].c();U=b(),B=v("div"),B.textContent="HEADERS",z=b(),le(P.$$.fragment),O=b(),A=v("div"),A.textContent="*User-Agent can be changed by setting User-Agent header above",N=b(),g=v("button"),g.textContent="ADD",h(s,"class","headline1 padded-h padded-v"),h(n,"class","subhead1 padded-h padded-v svelte-129nhvf"),h(u,"class","caption padded-h padded-v"),h(f,"type","file"),h(f,"name","files[]"),h(f,"accept",".torrent"),f.multiple=!0,h(f,"class","svelte-129nhvf"),h(p,"class","custom-input body1 padded-h padded-v svelte-129nhvf"),h(k,"class","overline"),h(T,"class","padded-h"),h(B,"class","subhead1 padded-h padded-v svelte-129nhvf"),h(A,"class","caption padded-h padded-v"),h(g,"class","add body1 padded-v padded-h svelte-129nhvf"),h(e,"class","add-download-wrapper svelte-129nhvf")},m(R,me){S(R,e,me),i(e,s),i(e,r),i(e,n),i(e,l),te(o,e,null),i(e,a),i(e,u),i(e,m),i(e,p),i(p,c),i(p,f),t[6](f),i(e,y),i(e,k),i(k,C),i(e,W),i(e,T);for(let ie=0;ie<G.length;ie+=1)G[ie].m(T,null);i(e,U),i(e,B),i(e,z),te(P,e,null),i(e,O),i(e,A),i(e,N),i(e,g),$=!0,fe||(pe=re(g,"click",t[4]),fe=!0)},p(R,[me]){var Me;const ie={};if(!d&&me&1&&(d=!0,ie.value=R[0],Te(()=>d=!1)),o.$set(ie),(!$||me&8)&&w!==(w=R[3]?R[3].length+" selected":"")&&M(C,w),me&8){ne=(Me=R[3])!=null?Me:[];let j;for(j=0;j<ne.length;j+=1){const We=Ls(R,ne,j);G[j]?G[j].p(We,me):(G[j]=Cs(We),G[j].c(),G[j].m(T,null))}for(;j<G.length;j+=1)G[j].d(1);G.length=ne.length}const ze={};!E&&me&2&&(E=!0,ze.value=R[1],Te(()=>E=!1)),P.$set(ze)},i(R){$||(K(o.$$.fragment,R),K(P.$$.fragment,R),$=!0)},o(R){Q(o.$$.fragment,R),Q(P.$$.fragment,R),$=!1},d(R){R&&x(e),se(o),t[6](null),ke(G,R),se(P),fe=!1,pe()}}}function Kr(t){return new Promise((e,s)=>{var r=new FileReader;r.onload=()=>{console.log(r.result.split(",")[0]),e(r.result.split(",")[1])},r.onerror=s,r.readAsDataURL(t)})}function Gr(t,e,s){let r;be(t,ge,f=>s(8,r=f));let n="",l="";const o=()=>{new Set(n.split(`
`).filter(f=>f)).forEach(f=>{H.wsreq("adduri","aria2.addUri",[[f],{header:l.split(`
`)}])}),d.files.length&&u(),dt(ge,r="play_arrow",r)};let d,a;Nt(()=>{s(2,d.onchange=()=>{s(3,a=d.files)},d)});async function u(){let f=d.files;for(let y=0;y<f.length;y++){let k=await Kr(f[y]);H.wsreq("addtorrent","aria2.addTorrent",[k])}}function m(f){n=f,s(0,n)}function p(f){ce[f?"unshift":"push"](()=>{d=f,s(2,d)})}function c(f){l=f,s(1,l)}return[n,l,d,a,o,m,p,c]}class Jr extends ue{constructor(e){super(),de(this,e,Gr,Vr,oe,{})}}function js(t){const e=t-1;return e*e*e+1}function $s(t,{delay:e=0,duration:s=400,easing:r=js,x:n=0,y:l=0,opacity:o=0}={}){const d=getComputedStyle(t),a=+d.opacity,u=d.transform==="none"?"":d.transform,m=a*(1-o);return{delay:e,duration:s,easing:r,css:(p,c)=>`
			transform: ${u} translate(${(1-p)*n}px, ${(1-p)*l}px);
			opacity: ${a-m*c}`}}function Yr(t,{from:e,to:s},r={}){const n=getComputedStyle(t),l=n.transform==="none"?"":n.transform,[o,d]=n.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*o/s.width-(s.left+o),u=e.top+e.height*d/s.height-(s.top+d),{delay:m=0,duration:p=f=>Math.sqrt(f)*120,easing:c=js}=r;return{delay:m,duration:gt(p)?p(Math.sqrt(a*a+u*u)):p,easing:c,css:(f,y)=>{const k=y*a,w=y*u,C=f+y*e.width/s.width,W=f+y*e.height/s.height;return`transform: ${l} translate(${k}px, ${w}px) scale(${C}, ${W});`}}}function As(t,e,s){const r=t.slice();return r[1]=e[s],r}function Ps(t,e,s){const r=t.slice();return r[4]=e[s],r}function Rs(t){let e,s=t[4].gid+"",r;return{c(){e=v("div"),r=_(s),h(e,"class","caption")},m(n,l){S(n,e,l),i(e,r)},p(n,l){l&1&&s!==(s=n[4].gid+"")&&M(r,s)},d(n){n&&x(e)}}}function Ts(t,e){let s,r,n=e[1].head+"",l,o,d,a,u,m=I,p,c=e[1].desc,f=[];for(let y=0;y<c.length;y+=1)f[y]=Rs(Ps(e,c,y));return{key:t,first:null,c(){s=v("div"),r=v("div"),l=_(n),o=b();for(let y=0;y<f.length;y+=1)f[y].c();d=b(),h(r,"class","body1"),h(s,"class","toast svelte-1dcag4d"),Y(s,"error",e[1].error),this.first=s},m(y,k){S(y,s,k),i(s,r),i(r,l),i(s,o);for(let w=0;w<f.length;w+=1)f[w].m(s,null);i(s,d),p=!0},p(y,k){if(e=y,(!p||k&1)&&n!==(n=e[1].head+"")&&M(l,n),k&1){c=e[1].desc;let w;for(w=0;w<c.length;w+=1){const C=Ps(e,c,w);f[w]?f[w].p(C,k):(f[w]=Rs(C),f[w].c(),f[w].m(s,d))}for(;w<f.length;w+=1)f[w].d(1);f.length=c.length}k&1&&Y(s,"error",e[1].error)},r(){u=s.getBoundingClientRect()},f(){lr(s),m(),Hs(s,u)},a(){m(),m=nr(s,u,Yr,{duration:200})},i(y){p||(y&&Ye(()=>{a||(a=os(s,$s,{x:200},!0)),a.run(1)}),p=!0)},o(y){y&&(a||(a=os(s,$s,{x:200},!1)),a.run(0)),p=!1},d(y){y&&x(s),ke(f,y),y&&a&&a.end()}}}function Qr(t){let e,s=[],r=new Map,n,l=t[0];const o=d=>d[1].desc;for(let d=0;d<l.length;d+=1){let a=As(t,l,d),u=o(a);r.set(u,s[d]=Ts(u,a))}return{c(){e=v("div");for(let d=0;d<s.length;d+=1)s[d].c();h(e,"class","toast-container svelte-1dcag4d")},m(d,a){S(d,e,a);for(let u=0;u<s.length;u+=1)s[u].m(e,null);n=!0},p(d,[a]){if(a&1){l=d[0],Ut();for(let u=0;u<s.length;u+=1)s[u].r();s=mr(s,a,o,1,d,l,r,e,pr,Ts,null,As);for(let u=0;u<s.length;u+=1)s[u].a();Bt()}},i(d){if(!n){for(let a=0;a<l.length;a+=1)K(s[a]);n=!0}},o(d){for(let a=0;a<s.length;a+=1)Q(s[a]);n=!1},d(d){d&&x(e);for(let a=0;a<s.length;a+=1)s[a].d()}}}function Zr(t,e,s){let r;return be(t,Re,n=>s(0,r=n)),[r]}class Xr extends ue{constructor(e){super(),de(this,e,Zr,Qr,oe,{})}}function en(t){let e,s,r,n,l,o,d,a;s=new kr({});var u=t[1][t[0]];function m(p){return{}}return u&&(l=new u(m())),d=new Xr({}),{c(){e=v("div"),le(s.$$.fragment),r=b(),n=v("div"),l&&le(l.$$.fragment),o=b(),le(d.$$.fragment),h(n,"class","component-container svelte-11tevr1"),h(e,"class","main-page svelte-11tevr1")},m(p,c){S(p,e,c),te(s,e,null),i(e,r),i(e,n),l&&te(l,n,null),i(e,o),te(d,e,null),a=!0},p(p,[c]){if(u!==(u=p[1][p[0]])){if(l){Ut();const f=l;Q(f.$$.fragment,1,0,()=>{se(f,1)}),Bt()}u?(l=new u(m()),le(l.$$.fragment),K(l.$$.fragment,1),te(l,n,null)):l=null}},i(p){a||(K(s.$$.fragment,p),l&&K(l.$$.fragment,p),K(d.$$.fragment,p),a=!0)},o(p){Q(s.$$.fragment,p),l&&Q(l.$$.fragment,p),Q(d.$$.fragment,p),a=!1},d(p){p&&x(e),se(s),l&&se(l),se(d)}}}function tn(t,e,s){let r;be(t,ge,o=>s(0,r=o));const n={add_download:Jr,play_arrow:Rt,pause:Rt,stop:Rt,settings:Pr},l=()=>{switch(r){case"play_arrow":{H.clearAllPolling(),H.startActivePolling();break}case"pause":{H.clearAllPolling(),H.startWaitingPolling();break}case"stop":{H.clearAllPolling(),H.startStoppedPolling();break}default:{H.clearAllPolling();break}}};return t.$$.update=()=>{t.$$.dirty&1&&l()},[r,n]}class sn extends ue{constructor(e){super(),de(this,e,tn,en,oe,{})}}new sn({target:document.getElementById("app")});
